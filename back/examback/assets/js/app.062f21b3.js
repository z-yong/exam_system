(function(t){function e(e){for(var i,o,l=e[0],r=e[1],c=e[2],d=0,m=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,l=1;l<a.length;l++){var r=a[l];0!==s[r]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},n=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/examback/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0251":function(t,e,a){},"034f":function(t,e,a){"use strict";var i=a("5cf0"),s=a.n(i);s.a},"03e5":function(t,e,a){},"06e6":function(t,e,a){"use strict";var i=a("1d3b"),s=a.n(i);s.a},"09e1":function(t,e,a){},"0a55":function(t,e,a){"use strict";var i=a("8bb3"),s=a.n(i);s.a},"1abb":function(t,e,a){"use strict";var i=a("dca8"),s=a.n(i);s.a},"1c5d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAGECAYAAAA/c6CAAAADyklEQVR4nO3dPWwcRRgG4HfG5/vZO8fEwcZyQ4FEkABRECiRkCJRkEQIiQ66lBSYBqRQJopocBOKSEEU0CEhJLsAhaSgJFAgLBEKECBhfLZZ4/2bnVnPfBR3Z/kuvsRx4+b9pG1m5312tStNtd+OEhGM1lvXfjsf1fVibUK9AAC7Xu4ULnz02dtPrIzOVaPAq1d/vdyq60u7QVC6AABo1jVqWqGswpWV909/MBZ4/r3Vc826WvYB2M52kdke0GlozEzVoBVQOrnw44fPLA8ytf3aZlq9GzU0bCXIS4/Qt6vdAOcFjUmFwoZFAAcDhanO+DCJEGQvDABBgNIFuF0Fa6sz+zNDgAQ3ZasJKDX6qIDdIBAvkOCm9o/roVkSAAk44MX0xvrnxwNHKAIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAgWMHaqMDpxdaePOlWZx9dhqPzzYAAH9sWtz6eQeff7eJu3+Z4YCIDI76jZt/iw8ytnwQ+fT2mohIa5DbC4vIzfHRe+pWP7MHfPwQ4UFdExEoEXkawE8AJh7y+XkAz2kAF48QRj9zUYUQflFKPXUEACJyV+V5bqMoqh8FKIrCaWMMrLW9V3L4K8NaC2OM08aY340x8N4fGvDewxiDsiz/1GVZfp1lGZxzh7oLEYFzDlmWwRjzra6q6pM0TX2SJA9EBuEkSZCmqa+q6oZWSq2maXq92+0ijuOxyCAcxzG63S6yLLuulFqtdTodJEmyGMfxk0VRnM3zHDMzM4iiCJOTkwCAqqpQFAXiOMbW1haMMbfb7fZip9OBStMU6+vrWFtbqzdaHftfvIkoinDixAk0m00AQFmWSJIERVFg+uSjcGUeLSwsmPn5eSjvPYqiwMbGBlS9IxNa49/NdSQ727ClgVIajUYTU9OP4NTsY/BBEGyq5ubm0G63e5+VhRDgnMM/W4m02x1offA6E0JAnmeYPzWlGo0GtNa9FUlrvXe7h6lWq7V3keNfEwkQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBI4deFCj7H0B7wNCCGMbZUMI8P4+/9131qbOWYQwPAlAvxPVwlmbjQXyPPuh1/M73L7ca9O1SJIEeZ7d2Z8Z3rygyJeyLHu5cg4nZ2bQbLYAAGVpsB3H2NnZgdZqaX/mng0cvlr55rKIXGq3O4jaUQ/OC+R5BqXUldfOvTJ+A4dBffHl8gUA7wB4sT/0PYClN14/vzw6938E9Z2AtUcwSQAAAABJRU5ErkJggg=="},"1d3b":function(t,e,a){},"1e56":function(t,e,a){"use strict";var i=a("409e"),s=a.n(i);s.a},"2ebc":function(t,e,a){},"3b6f":function(t,e,a){},"3d36":function(t,e,a){"use strict";var i=a("de52"),s=a.n(i);s.a},"409e":function(t,e,a){},"4ba6":function(t,e,a){},5046:function(t,e,a){"use strict";var i=a("5819"),s=a.n(i);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("96dd"),a("a60a"),a("e783"),a("8b1f");var i=a("6e6d"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],o=(a("034f"),a("4e82")),l={},r=Object(o["a"])(l,s,n,!1,null,null,null),c=r.exports,u=a("c478"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-login",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("ruleForm")}}},[a("div",{staticClass:"login"},[a("p",{staticClass:"title-login"},[t._v("用户登录")]),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"",prop:"username"}},[a("span",{staticClass:"iconfont"},[t._v("")]),a("el-input",{attrs:{placeholder:"请输入用户名",type:"text",autocomplete:"off"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{label:"",prop:"pass"}},[a("span",{staticClass:"iconfont"},[t._v("")]),a("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),a("div",{staticClass:"mess-box"},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住密码")]),a("p",{staticClass:"forget",on:{click:t.forgetPass}},[t._v("忘记密码？")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("登 录")])],1)],1)],1),a("el-dialog",{attrs:{title:"提交审核",visible:t.dialogFormVisible,width:t.dialogWidth},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"手机号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1)],1)},m=[],p={data:function(){var t=function(t,e,a){""===e?a(new Error("请输入用户名")):a()},e=function(t,e,a){""===e?a(new Error("请输入密码")):a()};return{ruleForm:{username:"",pass:""},rules:{username:[{validator:t,trigger:"blur"}],pass:[{validator:e,trigger:"blur"}]},checked:!1,dialogFormVisible:!1,dialogWidth:"30vw",formLabelWidth:"3vw",form:{name:"",phone:""}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var a={admin_name:e.ruleForm.username,admin_pwd:e.ruleForm.pass};e.axios.post("/admin/login/adminLogin",a).then((function(t){console.log(t),200==t.data.code?(e.checked?(localStorage.setItem("username",t.data.data.admin_name),localStorage.setItem("password",t.data.data.admin_pwd)):(localStorage.removeItem("username"),localStorage.removeItem("password")),e.$router.push("/index"),e.$message({message:"登录成功",type:"success"})):e.$message({message:t.data.msg,type:"error"})})).catch((function(t){console.log(t)}))}))},forgetPass:function(){this.dialogFormVisible=!0},_getUserMess:function(){localStorage.getItem("password")&&(this.ruleForm.username=localStorage.getItem("username"),this.ruleForm.pass=localStorage.getItem("password"))}},created:function(){this._getUserMess()}},f=p,h=(a("67a7"),Object(o["a"])(f,d,m,!1,null,"656150ba",null)),g=h.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper-index"},[i("div",{staticClass:"index-left"},[i("div",{staticClass:"user-photo"},[i("img",{attrs:{src:a("bca1"),alt:""}}),i("p",[t._v(t._s(t.userName))])]),i("div",{staticClass:"index-left-menu",class:t.fixed?"fixed":""},[i("el-col",{attrs:{span:24}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":!0,"background-color":"#1362cc","text-color":"#fff","active-text-color":"#fff"},on:{open:t.handleOpen,close:t.handleClose,select:t.handleActive}},[t.isA?i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"icon iconfont"},[t._v("")]),i("span",[t._v("题库管理")])]),t.isbb?i("el-menu-item",{attrs:{index:"1-1"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            模拟考卷出题\n                        ")]):t._e(),t.iscc?i("el-menu-item",{attrs:{index:"1-2"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            正式考卷出题\n                        ")]):t._e()],2):t._e(),t.isD?i("el-submenu",{attrs:{index:"2"}},[i("template",{slot:"title"},[i("i",{staticClass:"icon iconfont"},[t._v("")]),i("span",[t._v("考卷管理")])]),t.isee?i("el-menu-item",{attrs:{index:"2-1"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            模拟考卷\n                        ")]):t._e(),t.isff?i("el-menu-item",{attrs:{index:"2-2"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            正式考卷\n                        ")]):t._e()],2):t._e(),t.isG?i("el-submenu",{attrs:{index:"3"}},[i("template",{slot:"title"},[i("i",{staticClass:"icon iconfont"},[t._v("")]),i("span",[t._v("学生管理")])]),t.ishh?i("el-menu-item",{attrs:{index:"3-1"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            添加学生\n                        ")]):t._e(),t.ishh?i("el-menu-item",{attrs:{index:"3-2"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            班级管理\n                        ")]):t._e(),t.isll?i("el-menu-item",{attrs:{index:"3-3"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            学生反馈\n                        ")]):t._e()],2):t._e(),t.isJ?i("el-submenu",{attrs:{index:"4"}},[i("template",{slot:"title"},[i("i",{staticClass:"icon iconfont"},[t._v("")]),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])]),t.iskk?i("el-menu-item",{attrs:{index:"4-1"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            权限分配\n                        ")]):t._e(),t.iskk?i("el-menu-item",{attrs:{index:"4-2"}},[i("i",{staticClass:"iconfont circle"},[t._v("")]),t._v("\n                            用户管理\n                        ")]):t._e()],2):t._e()],1)],1)],1)]),i("div",{staticClass:"index-right"},[i("div",{staticClass:"right-header",class:t.fixed?"fixed":"",attrs:{id:"header"}},[i("div",{staticClass:"header-container"},[i("div",{staticClass:"header-left"},[i("span",{staticClass:"iconfont",on:{click:t.goHome}},[t._v("")]),i("span",{staticClass:"iconfont",attrs:{id:"reload"},on:{click:function(e){return t.reload(!0)}}},[t._v("\n                          \n                    ")])]),i("div",{staticClass:"header-right"},[i("div",{staticClass:"exit",on:{click:t.backLogin,mouseenter:function(e){t.isTextShow=!0},mouseleave:function(e){t.isTextShow=!1}}},[i("span",{staticClass:"iconfont"},[t._v("")]),i("div",{class:t.isTextShow?"text show":"text"},[t._v("回到登录页")])])])])]),i("div",{staticClass:"menu-box"},[i("ul",t._l(t.menuList,(function(e,a){return i("li",{key:a,class:t.currentIndex==a?"menu-active":"",on:{click:function(e){return t.changeMenu(a)}}},[i("i",{staticClass:"iconfont",domProps:{innerHTML:t._s(e.icon)}},[t._v(t._s(e.icon))]),i("span",{staticClass:"menu-name"},[t._v(t._s(e.name))])])})),0)]),t.isRouterAlive?i("div",{staticClass:"right-content"},["home"==t.show?i("z-home",{on:{homeSend:function(e){return t.receiveHome(e)}}}):t._e(),"table"==t.show?i("z-table",{attrs:{tableData:t.tableData,isQual:t.isQual},on:{lookErr:function(e){return t.gotoErr(e)}}}):t._e(),"mis"==t.show?i("z-mis",{attrs:{id:t.id},on:{leaveMis:function(e){return t.backTable(e)}}}):t._e(),"setTopic"==t.show?i("z-set-topic",{ref:"setTopic",attrs:{topicTitle:t.topicTitle,topicType:t.s_type,isGetInfo:t.isGetInfo,topicID:t.topicID,topicName:t.topicName,outline:t.outline},on:{gotoTopicTable:function(e){return t.gotoTopicTable(e)}}}):t._e(),"simu"==t.show?i("z-simu",{attrs:{isOper:t.isOper,title:t.isSimuTitle},on:{studentShow:t.studentShow,addTopic:function(e){return t.addTopic(e)},amendTopic:function(e){return t.amendTopic(e)}}}):t._e(),"student"==t.show?i("z-student",{attrs:{classID:t.classID},on:{seeStuPer:function(e){return t.seeStuPer(e)}}}):t._e(),"feedback"==t.show?i("z-feedback"):t._e(),"addStu"==t.show?i("z-add-stu"):t._e(),"addClass"==t.show?i("z-add-class",{on:{seeStudent:function(e){return t.seeStudent(e)}}}):t._e(),"setUp"==t.show?i("z-set-up"):t._e(),"userAdmin"==t.show?i("z-user-admin"):t._e(),"stuPerformancet"==t.show?i("z-stu-performancet",{attrs:{id:t.stuPerID},on:{seeAnswer:function(e){return t.seeAnswer(e)}}}):t._e(),"answer"==t.show?i("z-stu-answer",{attrs:{answerData:t.answerData}}):t._e()],1):t._e()]),i("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("span",[t._v("确认返回登录页吗?")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.backLogin}},[t._v("确 定")])],1)])],1)},v=[],_=(a("4634"),a("7cfd"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-wrapper"},[a("div",{staticClass:"home-box"},[a("div",{staticClass:"home-left"},[a("div",{staticClass:"test-paper"},[a("p",{staticClass:"test-title"},[t._v("\n                    最近一次考生试卷情况\n                ")]),a("div",{staticClass:"test-paper-content"},[a("ul",t._l(t.testPaper,(function(e,i){return a("li",{key:i,on:{click:function(e){return t.gotoTable(i)}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"iconfont",domProps:{innerHTML:t._s(e.icon)}},[t._v(t._s(e.icon))])]),a("div",{staticClass:"mess-desc"},[a("p",{staticClass:"num"},[t._v(t._s(e.num))]),a("p",{staticClass:"desc-name"},[t._v(t._s(e.name))])]),a("div",{staticClass:"one"}),t._m(0,!0)])})),0)])]),a("div",{staticClass:"ratio"},[a("ul",{staticClass:"ratio-list"},[a("li",{staticClass:"chart"},[a("p",{staticClass:"ratio-title"},[t._v("占比情况")]),a("div",{attrs:{id:"myChart1"}}),a("ul",t._l(t.ratioMess,(function(e,i){return a("li",{key:i,staticClass:"color"},[a("div",{staticClass:"circle",style:{background:e.color}}),a("span",[t._v(t._s(e.name))])])})),0)]),a("li",{staticClass:"chart"},[a("p",{staticClass:"ratio-title"},[t._v("试题难度选择情况")]),a("div",{attrs:{id:"myChart2"}}),a("ul",t._l(t.parperSelect,(function(e,i){return a("li",{key:i,staticClass:"color"},[a("div",{staticClass:"circle",style:{background:e.color}}),a("span",[t._v(t._s(e.name))])])})),0)])])])]),a("div",{staticClass:"home-right"},[a("div",{staticClass:"right-top"},[a("div",{staticClass:"calendar"},[a("p",{staticClass:"calendar-name"},[t._v("日历")]),a("el-calendar",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("div",{staticClass:"task"},[a("ul",{staticClass:"task-list"},t._l(t.taskMess,(function(e,i){return a("li",{key:i},[a("div",{staticClass:"icon"},[a("i",{staticClass:"iconfont",domProps:{innerHTML:t._s(e.icon)}},[t._v(t._s(e.icon))])]),a("div",{staticClass:"task-desc"},[a("p",{staticClass:"task-time"},[t._v(t._s(e.time))]),a("p",{staticClass:"task-content"},[t._v(t._s(e.content))])])])})),0)])]),a("div",{staticClass:"right-bottom"},[a("div",{staticClass:"log"},[a("p",{staticClass:"log-title"},[t._v("登录日志")]),t._l(t.journalMess,(function(e,i){return a("div",{key:i,staticClass:"log-content"},[t._m(1,!0),a("div",{staticClass:"log-desc"},[a("p",{staticClass:"log-time"},[t._v(t._s(e.time))]),a("p",{staticClass:"log-mess"},[t._v("系统登录成功"),a("br"),t._v("IP地址："+t._s(e.ip))])])])}))],2)])])])])}),x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"three"},[a("div",{staticClass:"two"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("i",{staticClass:"iconfont"},[t._v("")])])}],y={data:function(){return{testPaper:[],ratioMess:[],parperSelect:[],taskMess:[],journalMess:[],value:new Date}},methods:{gotoTable:function(t){var e,a,i,s=this,n={},o=[],l="所有试卷列表";0!=t&&1!=t&&2!=t||(i="table",a=!1),0==t?(e=!0,this.axios.get("/admin/index/qualified?state=0").then((function(t){o=t.data.data,n={tableData:o,isQual:e,isSimuTitle:l,isOper:a,show:i},s.$emit("homeSend",n)}))):1==t?(e=!0,this.axios.get("/admin/index/qualified?state=1").then((function(t){o=t.data.data,n={tableData:o,isQual:e,isSimuTitle:l,isOper:a,show:i},s.$emit("homeSend",n)}))):2==t?(e=!1,this.axios.get("/admin/index/qualified?state=2").then((function(t){o=t.data.data,n={tableData:o,isQual:e,isSimuTitle:l,isOper:a,show:i},s.$emit("homeSend",n)}))):3==t&&(i="simu",a=!0,n={tableData:o,isQual:e,isSimuTitle:l,isOper:a,show:i},this.$emit("homeSend",n))},_drawLine1:function(){var t=this.$echarts.init(document.getElementById("myChart1")),e=[];this.ratioMess.forEach((function(t,a){e[a]={},e[a]["value"]=parseInt(t.ratio),e[a]["name"]=t.name+t.ratio,e[a]["itemStyle"]={color:t.color,emphasis:{shadowColor:"rgba(0, 0, 0, 0.7)"}}})),e.reverse();var a={textStyle:{fontSize:14},series:[{name:"访问来源",type:"pie",radius:"55%",data:e}]};t.setOption(a)},_drawLine2:function(){var t=this.$echarts.init(document.getElementById("myChart2")),e=[];this.parperSelect.forEach((function(t,a){e[a]={},e[a]["value"]=parseInt(t.ratio),e[a]["name"]=t.name+t.ratio,e[a]["itemStyle"]={color:t.color}})),e.reverse();var a={textStyle:{fontSize:14},series:[{name:"访问来源",type:"pie",radius:"55%",data:e}]};t.setOption(a)},_getInfoData:function(){var t=this;this.axios.get("/admin/index/getIndexInfo").then((function(e){if(200==e.data.code){var a=e.data.data,i={name:"合格",icon:"&#xe638;",num:a.lately.qualified},s={name:"未合格",icon:"&#xe62d;",num:a.lately.unqualified},n={name:"缺考人数",icon:"&#xe620;",num:a.lately.lack},o={name:"总出卷",icon:"&#xe612;",num:a.lately.total};t.testPaper.push(i,s,n,o);var l={ratio:a.proportion.qualified+"%",name:"未合格",color:"#ff637b"},r={ratio:a.proportion.unqualified+"%",name:"合格",color:"#4f70f0"};t.ratioMess.push(l,r);var c={ratio:a.difficulty.one+"%",name:"一般",color:"#00c1ce"},u={ratio:a.difficulty.two+"%",name:"普通难度",color:"#4f70f0"},d={ratio:a.difficulty.three+"%",name:"较难",color:"#ff8572"},m={ratio:a.difficulty.four+"%",name:"最高难度",color:"#ff637b"};t.parperSelect.push(c,u,d,m),t._drawLine1(),t._drawLine2(),t.taskMess=a.task,t.journalMess=a.journal}})).catch((function(t){console.log(t)}))}},created:function(){this._getInfoData()},mounted:function(){}},D=y,C=(a("0a55"),Object(o["a"])(D,_,x,!1,null,"15e97bad",null)),w=C.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-wrapper"},[0!=t.myTableData.length?a("div",{staticClass:"table-box"},[a("p",{staticClass:"table-title"},[a("span",[t._v(t._s("缺考"==t.myTableData[0]["state"]?"缺考人数":t.myTableData[0]["state"]))])]),a("div",{attrs:{id:"table"}},[[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,data:t.myTableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"real_name",label:"学生","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"user_name",label:"学号","min-width":t.isQual?"20px":"22.5px"}}),a("el-table-column",{attrs:{prop:"time",label:"近期考试时间","min-width":t.isQual?"20px":"22.5px"}}),a("el-table-column",{attrs:{prop:"shijuan",label:"试卷名称","min-width":t.isQual?"20px":"22.5px"}}),a("el-table-column",{attrs:{prop:"state",label:t.isQual?"结果":"此次缺考","class-name":"合格"==t.myTableData[0]["state"]?"state":"noQual","min-width":"15px"}}),t.isQual?a("el-table-column",{attrs:{label:"操作","min-width":"15px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看错题")])]}}],null,!1,45803286)}):t._e()],1)],a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pages},on:{"current-change":t.changePage}})],1)],2)]):a("div",{staticClass:"no_table"},[t._v("\n        暂无考试记录\n    ")])])},F=[],I={props:{tableData:{type:Array,required:!0},isQual:{type:Boolean,required:!0}},data:function(){return{pages:0,myTableData:[]}},methods:{handleClick:function(t){this.$emit("lookErr",t.id)},changePage:function(t){this.myTableData=this.tableData.slice(6*(t-1),6*t)}},computed:{},created:function(){this.myTableData=this.tableData.slice(0,6),this.pages=10*Math.ceil(this.tableData.length/6)}},T=I,A=(a("ca85"),Object(o["a"])(T,k,F,!1,null,"783cbd09",null)),S=A.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mis-wrapper"},[a("div",{staticClass:"mis-box"},[a("p",{staticClass:"mis-title"},[a("span",{staticClass:"iconfont",on:{click:t.misSend}},[t._v("")]),a("span",{staticClass:"tt"},[t._v("错题")])]),a("div",{staticClass:"mis-table"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.myTableData,stripe:""}},[a("el-table-column",{attrs:{prop:"title",label:"试题名称","min-width":"40",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"试题类型","min-width":"15",align:"center"}}),a("el-table-column",{attrs:{prop:"difficulty",label:"难度","min-width":"15",align:"center"}}),a("el-table-column",{attrs:{prop:"fraction",label:"分数","min-width":"15",align:"center"}})],1)]],2),a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pages},on:{"current-change":t.changePage}})],1)])])},P=[],$=(a("8f42"),{props:{id:{type:Number,required:!0}},data:function(){return{tableData:[],myTableData:[],pages:0}},methods:{misSend:function(){this.$emit("leaveMis")},changePage:function(t){this.myTableData=this.tableData.slice(6*(t-1),6*t)}},created:function(){var t=this;this.axios.get("/admin/index/chakan?id="+this.id).then((function(e){t.tableData=e.data.data,t.myTableData=t.tableData.slice(0,6),t.pages=10*Math.ceil(t.tableData.length/6)}))}}),V=$,j=(a("e546"),Object(o["a"])(V,E,P,!1,null,"61ec24a0",null)),L=j.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"set-wrapper"},[a("p",{staticClass:"set-header"},[a("span",[t._v(t._s(t.isGetInfo?t.topicTitle:t.ruleForm.title+" "+t.topicType+"卷"))])]),t.isAllShow?a("div",{staticClass:"issue-box"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{disabled:t.disabled,placeholder:"输入标题"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),a("div",{staticClass:"editor"},[a("el-form-item",{attrs:{label:"想定内容"}},[a("z-editor",{ref:"editorHtml",attrs:{id:t.tinymce,tinymceHtml:t.tinymceHtml}})],1)],1),t._l(t.ruleForm.adjun,(function(e,i){return a("div",{key:i,staticClass:"topic_ed"},[a("el-form-item",{attrs:{label:"附件名称"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入附件名称"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm.adjun[i]["adjName"],callback:function(e){t.$set(t.ruleForm.adjun[i],"adjName",e)},expression:"ruleForm.adjun[i]['adjName']"}})],1),a("div",{staticClass:"editor"},[a("el-form-item",{attrs:{label:"内容文本"}},[a("z-editor",{attrs:{id:"content"+i,tinymceHtml:t.ruleForm.adjun[i].tinymceContent}})],1)],1)],1)})),a("div",{staticClass:"adj",style:{position:t.absolute?"absolute":"static",left:t.absolute?"3vw":"",bottom:t.absolute?"0px":""}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addTopic}},[t._v("保存附件")])],1),a("div",{staticClass:"new-topic"},t._l(t.ruleForm.topics,(function(e,i){return a("div",{key:i,staticClass:"topics"},[a("el-form-item",{attrs:{label:"题目类型"}},[[a("el-select",{model:{value:t.ruleForm["topics"][i]["topicType"],callback:function(e){t.$set(t.ruleForm["topics"][i],"topicType",e)},expression:"ruleForm['topics'][index]['topicType']"}},t._l(t.options2,(function(t,e){return a("el-option",{key:e,attrs:{value:t.label,label:t.label}})})),1)]],2),a("el-form-item",{attrs:{label:"难度",prop:t.ruleForm["topics"][i]["degree"]}},[[a("el-select",{on:{change:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["degree"],callback:function(e){t.$set(t.ruleForm["topics"][i],"degree",e)},expression:"ruleForm['topics'][index]['degree']"}},t._l(t.degrees,(function(t,e){return a("el-option",{key:e,attrs:{value:t.label,label:t.label}})})),1)]],2),a("div",{staticClass:"editor"},[a("el-form-item",{attrs:{label:"作业条件"+(i+1)}},[a("z-editor",{attrs:{id:"topic"+i,tinymceHtml:t.ruleForm["topics"][i]["tinymceTopic"]}})],1)],1),"填空题"!=t.ruleForm["topics"][i]["topicType"]?a("div",{staticClass:"option"},[a("el-form-item",{attrs:{label:"A："}},[a("el-input",{attrs:{type:"text"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["optionA"],callback:function(e){t.$set(t.ruleForm["topics"][i],"optionA",e)},expression:"ruleForm['topics'][index]['optionA']"}})],1),a("el-form-item",{attrs:{label:"B："}},[a("el-input",{attrs:{type:"text"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["optionB"],callback:function(e){t.$set(t.ruleForm["topics"][i],"optionB",e)},expression:"ruleForm['topics'][index]['optionB']"}})],1),a("el-form-item",{attrs:{label:"C："}},[a("el-input",{attrs:{type:"text"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["optionC"],callback:function(e){t.$set(t.ruleForm["topics"][i],"optionC",e)},expression:"ruleForm['topics'][index]['optionC']"}})],1),a("el-form-item",{attrs:{label:"D："}},[a("el-input",{attrs:{type:"text"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["optionD"],callback:function(e){t.$set(t.ruleForm["topics"][i],"optionD",e)},expression:"ruleForm['topics'][index]['optionD']"}})],1),"多选题"==t.ruleForm["topics"][i]["topicType"]?a("el-form-item",{attrs:{label:"E："}},[a("el-input",{attrs:{type:"text"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["optionE"],callback:function(e){t.$set(t.ruleForm["topics"][i],"optionE",e)},expression:"ruleForm['topics'][index]['optionE']"}})],1):t._e(),"多选题"==t.ruleForm["topics"][i]["topicType"]?a("el-form-item",{attrs:{label:"F："}},[a("el-input",{attrs:{type:"text"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["optionF"],callback:function(e){t.$set(t.ruleForm["topics"][i],"optionF",e)},expression:"ruleForm['topics'][index]['optionF']"}})],1):t._e()],1):t._e(),a("div",{staticClass:"answer"},["单选题"==t.ruleForm["topics"][i]["topicType"]?a("el-form-item",{attrs:{label:"正确答案"}},[a("el-radio",{attrs:{label:"A"},on:{change:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["correct"],callback:function(e){t.$set(t.ruleForm["topics"][i],"correct",e)},expression:"ruleForm['topics'][index]['correct']"}},[t._v("A")]),a("el-radio",{attrs:{label:"B"},on:{change:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["correct"],callback:function(e){t.$set(t.ruleForm["topics"][i],"correct",e)},expression:"ruleForm['topics'][index]['correct']"}},[t._v("B")]),a("el-radio",{attrs:{label:"C"},on:{change:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["correct"],callback:function(e){t.$set(t.ruleForm["topics"][i],"correct",e)},expression:"ruleForm['topics'][index]['correct']"}},[t._v("C")]),a("el-radio",{attrs:{label:"D"},on:{change:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["correct"],callback:function(e){t.$set(t.ruleForm["topics"][i],"correct",e)},expression:"ruleForm['topics'][index]['correct']"}},[t._v("D")])],1):t._e(),"多选题"==t.ruleForm["topics"][i]["topicType"]?a("el-form-item",{attrs:{label:"正确答案"}},[a("el-checkbox-group",{model:{value:t.ruleForm["topics"][i]["checkList"],callback:function(e){t.$set(t.ruleForm["topics"][i],"checkList",e)},expression:"ruleForm['topics'][index]['checkList']"}},[a("el-checkbox",{attrs:{label:"A"},on:{change:function(e){return t.change(e)}}}),a("el-checkbox",{attrs:{label:"B"},on:{change:function(e){return t.change(e)}}}),a("el-checkbox",{attrs:{label:"C"},on:{change:function(e){return t.change(e)}}}),a("el-checkbox",{attrs:{label:"D"},on:{change:function(e){return t.change(e)}}}),a("el-checkbox",{attrs:{label:"E"},on:{change:function(e){return t.change(e)}}}),a("el-checkbox",{attrs:{label:"F"},on:{change:function(e){return t.change(e)}}})],1)],1):t._e(),a("div",{staticClass:"gap"},["填空题"==t.ruleForm["topics"][i]["topicType"]?a("el-form-item",{attrs:{label:"正确答案"}},[a("el-input",{attrs:{type:"number"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["gap"],callback:function(e){t.$set(t.ruleForm["topics"][i],"gap",e)},expression:"ruleForm['topics'][index]['gap']"}}),a("el-input",{attrs:{type:"number",placeholder:"请给出精确度"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["error"],callback:function(e){t.$set(t.ruleForm["topics"][i],"error",e)},expression:"ruleForm['topics'][index]['error']"}})],1):t._e()],1)],1),a("div",{staticClass:"grade"},[a("el-form-item",{attrs:{label:"分数"}},[a("el-input",{attrs:{type:"number"},on:{input:function(e){return t.change(e)}},model:{value:t.ruleForm["topics"][i]["grade"],callback:function(e){t.$set(t.ruleForm["topics"][i],"grade",e)},expression:"ruleForm['topics'][index]['grade']"}})],1)],1)],1)})),0),a("div",{staticClass:"btnbtn",style:{position:t.absolute?"absolute":"static",left:t.absolute?"9vw":"",bottom:t.absolute?"5vh":""}},[a("el-button",{attrs:{type:"primary"},on:{click:t.goOnQua}},[t._v("保存作业条件")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v(t._s(t.submitText))])],1)],2)],1):t._e(),a("el-dialog",{attrs:{title:"提示",visible:t.dialogFormVisible0,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogFormVisible0=e}}},[a("span",{staticClass:"dia-content"},[t._v(" 您的上一次出题内容系统已为您保留，请选择：")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:t.clearData}},[t._v("清除并重新出题")]),a("el-button",{attrs:{type:"primary"},on:{click:t.goOn}},[t._v("继续出题")])],1)]),a("el-dialog",{attrs:{title:"提示",visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("span",[t._v("是否确认提交？")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitTure}},[t._v("提 交")])],1)])],1)},M=[],B=(a("c041"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tinymceHtml,expression:"tinymceHtml"}],attrs:{id:t.id},domProps:{value:t.tinymceHtml},on:{input:function(e){e.target.composing||(t.tinymceHtml=e.target.value)}}})])}),z=[],O=a("65f1"),q=a.n(O),G=(a("f2d8"),a("fba3"),a("d53d"),a("96e3"),a("b257"),a("6293"),a("c0ff"),a("57c3"),a("ce27"),a("7fc9"),a("cd79"),a("f9ab"),{name:"",props:{id:{type:String,required:!0},tinymceHtml:{type:String,required:!0}},data:function(){var t=this;return{init:{selector:"#".concat(this.id),language:"zh_CN",skin_url:"/tinymce/skins/ui/oxide",height:400,plugins:"link lists image code table colorpicker textcolor wordcount contextmenu",toolbar:"bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image code | removeformat",branding:!1,images_upload_handler:function(e,a,i){var s=new FormData;s.append("filename",e.blob()),console.log(s),t.axios.post("/admin/issue/upload",s).then((function(t){console.log(t),200==t.data["code"]?a(t.data.msg):i("上传失败！")})).catch((function(){i("上传出错")}))}}}},methods:{getBase64Image:function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var a=e.getContext("2d");a.drawImage(t,0,0,t.width,t.height);var i=t.src.substring(t.src.lastIndexOf(".")+1).toLowerCase(),s=e.toDataURL("image/"+i);return s}},mounted:function(){q.a.init(this.init)},beforeDestroy:function(){q.a.get(this.id).destroy()}}),R=G,H=Object(o["a"])(R,B,z,!1,null,null,null),U=H.exports,Q={props:{topicType:{type:String,required:!0},topicTitle:{type:String,required:!0},isGetInfo:{type:Boolean,required:!0},topicID:{type:Number,required:!0},outline:{type:String,required:!0},topicName:{type:String,required:!0}},components:{"z-editor":U},data:function(){return{isAllShow:!1,absolute:!0,postTopic:!1,postAdjun:!1,submitText:"生成试卷",id:"",tinymce:"tinymce",content:"content",z_topic:"z-topic",tinymceHtml:"",dialogFormVisible:!1,dialogFormVisible0:!1,isAddTopic:!1,disabled:!1,adjunNum:0,options2:[{label:"单选题"},{label:"多选题"},{label:"填空题"}],degrees:[{label:"一般"},{label:"普通难度"},{label:"较难"},{label:"最高难度"}],ways:[{value:"人工阅卷"},{value:"电脑阅卷"}],ruleForm:{id:0,title:"",topicNum:1,topics:[],adjun:[]},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],adjunct:[{required:!0,message:"请选择或创建附件",trigger:"blur"}],adjName:[{required:!0,message:"请输入附件名称",trigger:"blur"}],topicName:[{required:!0,message:"请填写作业条件",trigger:"blur"}],time:[{required:!0,message:"请填写此卷考试时长",trigger:"blur"}],topic:[{required:!0,message:"请出题",trigger:"blur"}],optionA:[{required:!0,message:"请填写A选项内容",trigger:"blur"}],optionB:[{required:!0,message:"请填写B选项内容",trigger:"blur"}],optionC:[{required:!0,message:"请填写C选项内容",trigger:"blur"}],optionD:[{required:!0,message:"请填写D选项内容",trigger:"blur"}],optionE:[{message:"请填写E选项内容",trigger:"blur"}],optionF:[{message:"请填写F选项内容",trigger:"blur"}],grade:[{required:!0,message:"请填写此题分数",trigger:"blur"}],gap:[{required:!0,message:"请填写正确答案",trigger:"blur"}],error:[{required:!0,message:"请填写精确度",trigger:"blur"}]}}},methods:{_getMess:function(t){var e=q.a.get(t).getContent();return e=e.replace(/<[^>]+>/g,""),e},_getTinyMess:function(){q.a.activeEditor.getContent()},goOnQua:function(){var t=this;if(this.absolute=!1,this.ruleForm.topics.length)if(this.postTopic)this.postTopic=!1,this.ruleForm.topics.push({tinymceTopic:"",t_id:"",topicType:"单选题",degree:"一般",topic:"",correct:"A",optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",grade:0,checkList:["A"],gap:"",error:""});else{var e=this.ruleForm.topics.length,a=this.ruleForm.topics[e-1],i="",s="",n="",o="";if(!q.a.editors["topic"+(e-1)].getContent())return void this._isEmpty("请出题!");if("单选题"==a.topicType||"多选题"==a.topicType){if(!a.optionA)return void this._isEmpty("请填写A选项!");if(!a.optionB)return void this._isEmpty("请填写B选项!");if(!a.optionC)return void this._isEmpty("请填写C选项!");if(!a.optionD)return void this._isEmpty("请填写D选项!")}if("单选题"==a.topicType)i=1,n=a.correct;else if("多选题"==a.topicType){if(i=2,n=a.checkList,!a.optionE)return void this._isEmpty("请填写E选项!");if(!a.optionF)return void this._isEmpty("请填写F选项!")}else"填空题"==a.topicType&&(i=3,o=a.error,n=a.gap);"一般"==a.degree&&(s=1),"普通难度"==a.degree&&(s=2),"较难"==a.degree&&(s=3),"最高难度"==a.degree&&(s=4);var l=this.ruleForm.id,r=q.a.editors["topic"+(e-1)].getContent(),c=a.optionA,u=a.optionB,d=a.optionC,m=a.optionD,p=a.optionE,f=a.optionF,h=a.grade;if(!n.length)return void this._isEmpty("请填写正确答案!");if(!h)return void this._isEmpty("请填写此题分数!");var g={s_id:l,title:r,type:i,difficulty:s,a:c,b:u,c:d,d:m,e:p,f:f,error:o,answer:n,fraction:h};this.isGetInfo||(g.s_id=this.topicID,g.s_type=this.topicType),this.axios.post("/admin/issue/subject",g).then((function(e){t.ruleForm.topics.push({tinymceTopic:"",t_id:"",topicType:"单选题",degree:"一般",topic:"",correct:"A",optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",grade:"",checkList:["A"],gap:""})}))}else{if(!this.ruleForm.title)return void this.$message({message:"请输入考卷标题",type:"error"});if(!this.ruleForm.id&&this.isGetInfo){var b={title:this.ruleForm.title,outline:q.a.editors["tinymce"].getContent(),simulation:"正式考卷"==this.topicTitle?0:1};if(!b.outline)return void this.$message({message:"请输入附件内容!",type:"error"});this.axios.post("/admin/issue/issue",b).then((function(e){t.ruleForm.id=e.data.msg,t.ruleForm.topics.push({tinymceTopic:"",t_id:"",topicType:"单选题",degree:"一般",topic:"",correct:"A",optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",grade:0,checkList:["A"],gap:"",error:""})}))}else this.ruleForm.topics.push({tinymceTopic:"",t_id:"",topicType:"单选题",degree:"一般",topic:"",correct:"A",optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",grade:0,checkList:["A"],gap:"",error:""})}},addTopic:function(){var t=this;if(this.ruleForm.adjun.length)if(this.postAdjun)this.postAdjun=!1,this.ruleForm.adjun.push({adjName:"",f_id:"",tinymceContent:""});else{var e=this.ruleForm.adjun.length,a={content:q.a.editors["content"+(e-1)].getContent(),s_id:this.ruleForm.id,title:this.ruleForm.adjun[e-1].adjName};if(this.isGetInfo||(a.s_id=this.topicID,a.s_type=this.topicType),!a.title)return void this._isEmpty("请输入附件名称!");if(!a.content)return void this._isEmpty("请输入附件内容!");this.axios.post("/admin/issue/enclosure",a).then((function(e){t.ruleForm.adjun.push({adjName:"",f_id:"",tinymceContent:""})}))}else{if(!this.ruleForm.title)return void this.$message({message:"请输入考卷标题",type:"error"});if(!this.ruleForm.id&&this.isGetInfo){var i={title:this.ruleForm.title,outline:q.a.editors["tinymce"].getContent(),simulation:"正式考卷"==this.topicTitle?0:1};if(!i.outline)return void this.$message({message:"请输入想定内容!",type:"error"});this.axios.post("/admin/issue/issue",i).then((function(e){t.ruleForm.id=e.data.msg,t.ruleForm.adjun.push({adjName:"",f_id:"",tinymceContent:""})}))}else this.ruleForm.adjun.push({adjName:"",f_id:"",tinymceContent:""})}},submitTure:function(){var t=this,e=q.a.editors["tinymce"].getContent(),a=this.ruleForm.title,i=this.ruleForm.id,s=[],n=[];if(this.ruleForm.adjun.forEach((function(t,e){s[e]={},s[e].title=t.adjName,s[e].content=q.a.editors["content"+e].getContent(),s[e].id=t.f_id})),s.length){var o=s[s.length-1];if(!o.title)return this._isEmpty("请输入附件名称!",!0);if(!o.content)return this._isEmpty("请输入附件内容!",!0)}if(this.ruleForm.topics.forEach((function(t,e){n[e]={};var a=0;n[e].title=q.a.editors["topic"+e].getContent(),"单选题"==t.topicType&&(a=1,n[e].answer=t.correct),"多选题"==t.topicType&&(a=2,n[e].answer=t.checkList),"填空题"==t.topicType&&(a=3,n[e].answer=t.gap),n[e].type=a,n[e].difficulty=t.degree,n[e].fraction=t.grade,n[e].id=t.t_id,n[e].a=t.optionA,n[e].b=t.optionB,n[e].c=t.optionC,n[e].d=t.optionD,n[e].e=t.optionE,n[e].f=t.optionF,n[e].error=t.error})),n.length){var l=n[n.length-1];if(!l.title)return this._isEmpty("请出最后一题！",!0);if(1==l.type){if(!l.a)return this._isEmpty("请填写A选项！",!0);if(!l.b)return this._isEmpty("请填写B选项！",!0);if(!l.c)return this._isEmpty("请填写C选项！",!0);if(!l.d)return this._isEmpty("请填写D选项！",!0)}else if(2==l.type){if(!l.a)return this._isEmpty("请填写A选项！",!0);if(!l.b)return this._isEmpty("请填写B选项！",!0);if(!l.c)return this._isEmpty("请填写C选项！",!0);if(!l.d)return this._isEmpty("请填写D选项！",!0);if(!l.e)return this._isEmpty("请填写E选项！",!0);if(!l.f)return this._isEmpty("请填写F选项！",!0)}if(!l.answer)return this._isEmpty("请填写正确答案！",!0);if(!l.fraction)return this._isEmpty("请填写此题分数！",!0)}var r={id:i,outline:e,title:a,enclosure:s,subject:n};this.isGetInfo||(r.id=this.topicID,"修改"!=this.outline&&(r.s_type=this.topicType)),this.axios.post("/admin/issue/preservation",r).then((function(e){if(q.a.editors["tinymce"].setContent(""),t.isGetInfo)return t.dialogFormVisible=!1,console.log(t.tinymceHtml),t.ruleForm={id:0,title:"",topicNum:1,topics:[],adjun:[]},void t.$message({message:"辛苦了,此试卷创建成功! 您可以继续创建试卷!",type:"success"});t.dialogFormVisible=!1;var a="";0==e.data.data?a="正式考卷列表":1==e.data.data&&(a="模拟考卷列表"),"修改"==t.outline?t.$message({message:"辛苦了,".concat(t.ruleForm.title+t.topicType,"卷 保存成功!"),type:"success"}):t.$message({message:"辛苦了,".concat(t.ruleForm.title+t.topicType,"卷 创建成功!"),type:"success"}),t.$emit("gotoTopicTable",{title:a})}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.dialogFormVisible=!0}))},clearData:function(){var t=this;this.axios.post("/admin/issue/emptyIssue?id="+this.id).then((function(e){t.dialogFormVisible0=!1,t.isAllShow=!0,t.absolute=!0}))},goOn:function(){var t=this;this.axios.get("/admin/issue/proceed?id="+this.id).then((function(e){t.absolute=!1,t._getData(e.data.data.enclosure,e.data.data.subject),t.ruleForm.id=e.data.data.id,t.ruleForm.title=e.data.data.title,t.tinymceHtml=e.data.data.outline,t.dialogFormVisible0=!1}))},change:function(t){this.$forceUpdate()},_getData:function(t,e){var a=this;t.forEach((function(t,e){a.ruleForm.adjun[e]={},a.ruleForm.adjun[e]["adjName"]=t.title,a.ruleForm.adjun[e]["tinymceContent"]=t.content,a.ruleForm.adjun[e].f_id=t.id})),console.log(t),e.forEach((function(t,e){a.ruleForm.topics[e]={},a.ruleForm.topics[e]["tinymceTopic"]=t.title,a.ruleForm.topics[e]["topicType"]=t.type,a.ruleForm.topics[e]["degree"]=t.difficulty,a.ruleForm.topics[e]["grade"]=t.fraction,a.ruleForm.topics[e]["t_id"]=t.id,"单选题"==t.type||"多选题"==t.type?(a.ruleForm.topics[e]["optionA"]=t.a,a.ruleForm.topics[e]["optionB"]=t.b,a.ruleForm.topics[e]["optionC"]=t.c,a.ruleForm.topics[e]["optionD"]=t.d,a.ruleForm.topics[e]["optionE"]=t.e,a.ruleForm.topics[e]["optionF"]=t.f,"单选题"==t.type?a.ruleForm.topics[e]["correct"]=t.answer[0]:"多选题"==t.type&&(a.ruleForm.topics[e]["checkList"]=t.answer)):a.ruleForm.topics[e]["gap"]=t.answer[0]})),t.length&&(this.postAdjun=!0),e.length&&(this.postTopic=!0),this.isAllShow=!0},_isEmpty:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$message({message:t,type:"error"}),e&&(this.dialogFormVisible=!1)},_getInfo:function(){var t=this,e={};"正式考卷"==this.topicTitle?e.simulation=0:"模拟考卷"==this.topicTitle&&(e.simulation=1),this.axios.get("/admin/issue/testing?simulation="+e.simulation).then((function(e){console.log(e),200==e.data.code?(t.isAllShow=!1,t.id=e.data.data,t.dialogFormVisible0=!0):t.isAllShow=!0}))}},created:function(){var t=this;this.isGetInfo?this._getInfo():"修改"==this.outline?this.axios.get("/admin/issue/editAbcIssue?id="+this.topicID+"&s_type="+this.topicType).then((function(e){console.log(e),t.absolute=!1,t._getData(e.data.data.enclosure,e.data.data.subject),t.ruleForm.id=e.data.data.id,t.ruleForm.title=e.data.data.title,t.tinymceHtml=e.data.data.outline,t.submitText="保存修改"})):(this.isAllShow=!0,this.ruleForm.title=this.topicName,this.tinymceHtml=this.outline,this.disabled=!0)}},W=Q,Z=(a("f643"),Object(o["a"])(W,N,M,!1,null,"4ad92511",null)),J=Z.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"simu-wrapper"},[a("div",{staticClass:"simu-box"},[a("div",{staticClass:"search"},[a("div",{staticClass:"condition"},[a("span",[t._v("筛选条件：")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getValue},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value}})})),1)],1),a("div",[a("span",{staticClass:"topic-name"},[t._v("试卷名称")]),a("el-input",{attrs:{placeholder:"请输入试卷名称",clearable:""},on:{input:t.searchTopicName},model:{value:t.topicName,callback:function(e){t.topicName=e},expression:"topicName"}})],1)]),a("div",{staticClass:"table"},[a("p",{staticClass:"table-title"},[t._v(t._s(t.title))]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.myTableData}},[a("el-table-column",{attrs:{prop:"serial",label:"序号","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"name",label:"试卷名称","min-width":"30px"}}),t.isOper?a("el-table-column",{attrs:{prop:"type",label:"试卷类型","min-width":"10px"}}):t._e(),a("el-table-column",{attrs:{prop:"currentSelect",label:"正式考卷","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"searchNum",label:"卷数","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"usersNum",label:"考生数","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"qual",label:"合格率","min-width":"10px"}}),a("el-table-column",{attrs:{label:"操作","min-width":"36px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.redact(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("设置")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteData(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.addTopic(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("创建"+t._s(e.row.currentTopic)+"卷")])]}}])})],1),a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pages},on:{"current-change":t.changePage}})],1)],1)]),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("确认删除此试卷？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.isDelete}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"设置试卷",visible:t.dialogFormVisible2,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[a("el-form",{attrs:{model:t.formData,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"试卷名称"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"输入试卷名称","label-width":"30px"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"请选择正式考卷"}},[a("el-select",{model:{value:t.formData.select,callback:function(e){t.$set(t.formData,"select",e)},expression:"formData.select"}},t._l(t.formData.selects,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"开考日期"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1),a("el-form-item",{attrs:{label:"考试时长(分钟)"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"输入考试时长"},model:{value:t.formData.time,callback:function(e){t.$set(t.formData,"time",e)},expression:"formData.time"}})],1),a("el-form-item",{attrs:{label:"考试人数"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"输入考试人数"},model:{value:t.formData.stuNum,callback:function(e){t.$set(t.formData,"stuNum",e)},expression:"formData.stuNum"}})],1),a("el-form-item",{attrs:{label:"是否需要修改已生成的试卷内容","label-width":"240px"}},[a("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio-button",{attrs:{label:"是"}}),a("el-radio-button",{attrs:{label:"否"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.settingTopic}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible3,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[a("span",{staticClass:"dialogVisible3Text"},[t._v("设置成功！您需要修改哪一卷？")]),a("el-select",{attrs:{placeholder:"选择试卷"},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},t._l(t.options2,(function(t){return a("el-option",{key:t,attrs:{value:t}})})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible3=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.goToSetTopic}},[t._v("确 定")])],1)],1)],1)},X=[],K=(a("ebec"),{props:{isOper:{type:Boolean,required:!0},title:{type:String,required:!0}},data:function(){return{id:0,pages:0,radio:"否",currentTopic:"",options:[{value:"全部"},{value:"近一个月"},{value:"近三个月"}],options2:[],topicName:"",selectValue:"A卷",value:"全部",startDate:"",endDate:"",myTableData:[],tableData:[],formData:{name:"",select:"",selects:[],date:"",time:"",stuNum:"",audit:"人工审核",audits:["人工审核","电脑审核"]},dialogVisible:!1,dialogFormVisible2:!1,dialogVisible3:!1}},methods:{getValue:function(t){var e=this;"模拟考卷列表"==this.title?"近一个月"==t?this.axios.get("/admin/issue/trueList?simulation=1&time=1").then((function(t){e._getData(t.data.data)})):"近三个月"==t?this.axios.get("/admin/issue/trueList?simulation=1&time=3").then((function(t){e._getData(t.data.data)})):"全部"==t&&this.axios.get("/admin/issue/trueList?simulation=1").then((function(t){e._getData(t.data.data)})):"正式考卷列表"==this.title?"近一个月"==t?this.axios.get("/admin/issue/trueList?simulation=0&time=1").then((function(t){e._getData(t.data.data)})):"近三个月"==t?this.axios.get("/admin/issue/trueList?simulation=0&time=3").then((function(t){e._getData(t.data.data)})):"全部"==t&&this.axios.get("/admin/issue/trueList?simulation=0").then((function(t){e._getData(t.data.data)})):"所有试卷列表"==this.title&&("近一个月"==t?this.axios.get("/admin/issue/trueList?time=1").then((function(t){e._getData(t.data.data)})):"近三个月"==t?this.axios.get("/admin/issue/trueList?time=3").then((function(t){e._getData(t.data.data)})):"全部"==t&&this.axios.get("/admin/issue/trueList").then((function(t){e._getData(t.data.data)})))},searchData:function(){},searchTopicName:function(){var t=this;this.myTableData=this.tableData.filter((function(e){return e.name.match(t.topicName)}))},handleClick:function(t){this.id=t.id;var e=this.$router.resolve({path:"/Topic",query:{id:t.id}});window.open(e.href,"_blank")},addTopic:function(t){var e=this;this.id=t.id,this.axios.get("/admin/issue/abcdIssue?id="+this.id).then((function(a){console.log(a);var i=t.currentTopic,s=e.id,n=a.data.data.title,o=a.data.data.outline;e.$emit("addTopic",{title:i,id:s,outline:o,name:n})}))},changePage:function(t){this.myTableData=this.tableData.slice(6*(t-1),6*(t-1)+6)},redact:function(t){var e=this;this.id=t.id,this.axios.get("/admin/issue/editIssue?id="+t.id).then((function(t){e.formData.name=t.data.data.title,e.formData.date=t.data.data.kk_time,e.formData.time=t.data.data.kssc_time,e.formData.stuNum=t.data.data.cankao_num,e.formData.select=t.data.data.choice+"卷",e.formData.audit=0==t.data.data.examine?"人工审核":"电脑审核",t.data.data.s_type.forEach((function(t,a){e.formData.selects[a]=t+"卷"})),e.options2=e.formData.selects})),this.dialogFormVisible2=!0},settingTopic:function(){var t=this,e={id:this.id,title:this.formData.name,kk_time:this.formData.date,kssc_time:this.formData.time,cankao_num:this.formData.stuNum,choice:this.formData.select.slice(0,1),examine:"人工审核"==this.formData.audit?0:1};this.axios.post("/admin/issue/editDoIssue",e).then((function(e){t._getInfoData(),t.dialogFormVisible2=!1,t.$message({message:"设置成功",type:"success"}),"是"==t.radio&&(t.dialogVisible3=!0)}))},goToSetTopic:function(){this.$emit("amendTopic",{id:this.id,s_type:this.selectValue.slice(0,1)}),this.dialogVisible3=!1},deleteData:function(t){this.id=t.id,this.dialogVisible=!0},isDelete:function(){var t=this;this.dialogVisible=!1,this.axios.post("/admin/issue/deleteIssue?id="+this.id).then((function(e){t.$message({message:"删除成功",type:"success"}),t._getInfoData()}))},_getData:function(t){var e=this;t.forEach((function(t,a){e.tableData[a]={},e.tableData[a].id=t.id,e.tableData[a].currentTopic=t.abc,e.tableData[a].serial=a+1,e.tableData[a].name=t.title,e.tableData[a].type=t.simulation,e.tableData[a].currentSelect=t.choice+"卷",e.tableData[a].usersNum=t.ks_num,e.tableData[a].searchNum=t.j_num,e.tableData[a].qual=t.rate,e.pages=e.tableData.length/6*10,e.myTableData=e.tableData.slice(0,6)}))},_getInfoData:function(){var t=this;"模拟考卷列表"==this.title?this.axios.get("/admin/issue/trueList?simulation=1").then((function(e){t._getData(e.data.data)})):"正式考卷列表"==this.title?this.axios.get("/admin/issue/trueList?simulation=0").then((function(e){t._getData(e.data.data)})):"所有试卷列表"==this.title&&this.axios.get("/admin/issue/trueList").then((function(e){t._getData(e.data.data)}))}},created:function(){this._getInfoData()}}),tt=K,et=(a("1e56"),Object(o["a"])(tt,Y,X,!1,null,"459401da",null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"feed-wrapper"},[a("div",{staticClass:"feed-head"},t._l(t.menuList,(function(e,i){return a("div",{key:i,staticClass:"head-item",class:t.currentIndex==i?"active":"",on:{click:function(e){return t.changeContent(i)}}},[t._v("\n            "+t._s(e)+"\n        ")])})),0),a("div",{staticClass:"feed-content"},[a("ul",{staticClass:"feed-box-list"},[t.oneShow?a("li",{staticClass:"box-item"},[a("ul",{staticClass:"content-list"},[t.noReply.length?t._e():a("li",{staticClass:"no"},[t._v("暂无数据")]),t._l(t.noReply,(function(e,i){return a("li",{key:i,staticClass:"content-item"},[a("p",{staticClass:"stu-name"},[t._v(t._s(e.stuName)+"同学：")]),a("p",{staticClass:"stu-content"},[t._v(t._s(e.content))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.teacherContent,expression:"item.teacherContent"}],attrs:{placeholder:"输入您想对该同学说的话"},domProps:{value:e.teacherContent},on:{input:function(a){a.target.composing||t.$set(e,"teacherContent",a.target.value)}}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.sumAnw(e.id)}}},[t._v("提交")])],1)}))],2)]):t._e(),t.oneShow?t._e():a("li",{staticClass:"box-item"},[a("ul",{staticClass:"content-list"},[t.reply.length?t._e():a("li",{staticClass:"no"},[t._v("暂无数据")]),t._l(t.reply,(function(e,i){return a("li",{key:i,staticClass:"content-item"},[a("p",{staticClass:"stu-name"},[t._v(t._s(e.stuName)+"同学：")]),a("p",{staticClass:"stu-content"},[t._v(t._s(e.stuContent))]),a("p",{staticClass:"tea-name"},[t._v(t._s(e.teaName)+"老师：")]),a("p",{staticClass:"tea-content"},[t._v(t._s(e.teaContent))])])}))],2)])])])])},st=[],nt={data:function(){return{currentIndex:0,oneShow:!0,menuList:["待回复","已回复"],noReply:[],reply:[]}},methods:{changeContent:function(t){this.currentIndex=t,this.oneShow=!this.oneShow},sumAnw:function(t){var e,a=this;this.noReply.forEach((function(a){a.id==t&&(e=a.teacherContent)}));var i={reply:e,id:t};this.axios.post("/admin/user/postReply",i).then((function(t){200==t.data.code&&(a.$message({message:"提交成功！",type:"success"}),a.noReply=[],a.reply=[],a._getInfoData())}))},_getInfoData:function(){var t=this;this.axios.get("/admin/user/feedback").then((function(e){console.log(e),e.data.data.forEach((function(e){t.noReply.push({id:e.id,content:e.content,stuName:e.uid,teacherContent:""})}))})),this.axios.get("/admin/user/feedbackOk").then((function(e){console.log(e),e.data.data.forEach((function(e){t.reply.push({id:e.id,stuContent:e.content,teaContent:e.reply,stuName:e.uid,teaName:e.reply_id})}))}))}},created:function(){this._getInfoData()}},ot=nt,lt=(a("9b40"),Object(o["a"])(ot,it,st,!1,null,"73d481b8",null)),rt=lt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stu-wrapper"},[a("div",{staticClass:"stu-box"},[a("div",{staticClass:"search"},[a("div",{staticClass:"condition"},[a("span",[t._v("筛选条件：")]),a("el-input",{attrs:{placeholder:"请输入学生姓名或者学号",clearable:""},on:{input:t.searchStudent},model:{value:t.stuSearchValue,callback:function(e){t.stuSearchValue=e},expression:"stuSearchValue"}})],1)]),a("div",{staticClass:"stu-table"},[a("p",{staticClass:"table-title"},[t._v("所有学生列表")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,data:t.myTableData}},[a("el-table-column",{attrs:{fixed:"",prop:"serial",label:"序号","min-width":"5px"}}),a("el-table-column",{attrs:{prop:"real_name",label:"姓名","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"pass",label:"合格率","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"user_name",label:"学号","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"examination",label:"试卷名称","min-width":"15px"}}),a("el-table-column",{attrs:{label:"操作","min-width":"15px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.redact(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteStu(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.seePerformancet(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("查看成绩")])]}}])})],1)],a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pages},on:{"current-change":t.currentPage,"prev-click":t.prevPage,"next-click":t.nextPage}})],1)],2)]),a("el-dialog",{attrs:{title:"修改",visible:t.redactBox},on:{"update:visible":function(e){t.redactBox=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"姓名","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.real_name,callback:function(e){t.$set(t.formData,"real_name",e)},expression:"formData.real_name"}})],1),a("el-form-item",{attrs:{label:"手机","label-width":"100px"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),a("el-form-item",{attrs:{label:"学号","label-width":"100px"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.formData.user_name,callback:function(e){t.$set(t.formData,"user_name",e)},expression:"formData.user_name"}})],1),a("el-form-item",{attrs:{label:"学生登录密码","label-width":"100px"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.redactBox=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.redactTrue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("确认删除此学生？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteTrue}},[t._v("确 定")])],1)])],1)},ut=[],dt={props:{classID:{type:Number}},data:function(){return{pages:0,id:0,stuSearchValue:"",dialogVisible:!1,redactBox:!1,formInline:{name:"",phone:"",id:"",sex:""},formData:{},tableData:[],myTableData:[]}},methods:{searchStudent:function(t){var e=this;this.axios.get("/admin/user/userlist?value="+t).then((function(t){t.data.data.forEach((function(t,e){t.serial=e+1})),e.tableData=t.data.data,e.pages=Math.ceil(10*e.tableData.length/6),e.myTableData=e.tableData.slice(0,6)}))},seePerformancet:function(t){this.$emit("seeStuPer",t.id)},redact:function(t){var e=this;this.id=t.id,this.redactBox=!0,this.axios.get("/admin/user/getUserInfo?id="+this.id).then((function(t){e.formData=t.data.data,console.log(t.data)}))},redactTrue:function(){var t=this;this.axios.post("/admin/user/updateUser",this.formData).then((function(e){console.log(e),t.$message({message:"修改成功",type:"success"}),t.redactBox=!1,t._getStuData()})).catch((function(t){console.log(t)}))},deleteStu:function(t){this.id=t.id,this.dialogVisible=!0},deleteTrue:function(){var t=this;this.id;this.axios.get("/admin/user/del?id="+this.id).then((function(e){t.dialogVisible=!1,t._getStuData()}))},currentPage:function(t){this.myTableData=this.tableData.slice(6*t-6,6*t),console.log(t)},prevPage:function(t){},nextPage:function(t){},_getStuData:function(){var t=this;this.axios.post("/admin/user/get_all_users",{b_id:this.classID}).then((function(e){e.data.data.forEach((function(t,e){t.serial=e+1})),t.tableData=e.data.data,t.pages=Math.ceil(10*t.tableData.length/6),t.myTableData=t.tableData.slice(0,6)})).catch((function(t){console.log(t)}))}},created:function(){this._getStuData()}},mt=dt,pt=(a("afe4"),Object(o["a"])(mt,ct,ut,!1,null,"6e469bd4",null)),ft=pt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setup-wrapper"},[a("div",{staticClass:"setup-box"},[a("div",{staticClass:"search"},[a("span",[t._v("筛选条件")]),a("div",[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeStatus},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("el-option",{attrs:{value:"状态"}}),a("el-option",{attrs:{value:"可用"}}),a("el-option",{attrs:{value:"不可用"}})],1),a("div",{staticClass:"identity"},[a("el-input",{attrs:{placeholder:"请输入身份名称",clearable:""},on:{input:t.searchData},model:{value:t.identity,callback:function(e){t.identity=e},expression:"identity"}})],1)],1),a("el-button",{staticClass:"add-ident",attrs:{type:"primary"},on:{click:function(e){return t.addIdent("add")}}},[t._v("添加身份")])],1),a("div",{staticClass:"table"},[a("p",{staticClass:"table-title"},[t._v("身份列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.myTableData}},[a("el-table-column",{attrs:{prop:"index",label:"编号","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"limit_name",label:"身份","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"state",label:"状态","min-width":"20px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"iconfont",class:1==e.row.state?"green":"red"},[t._v("\n                            "+t._s(1==e.row.state?"":"")+"\n                        ")])]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"20px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.addIdent("redact",e.row,e.$index)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteData(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("删除")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:t.disTitle,visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"身份名称","label-width":"80px"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}},[a("el-input",{attrs:{placeholder:"输入身份名称",autocomplete:"off"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"权限范围","label-width":"80px"}},[a("div",{staticClass:"block"},[a("el-cascader",{attrs:{"show-all-levels":!1,placeholder:"试试搜索：管理",options:t.options,props:{multiple:!0},filterable:""},model:{value:t.formData.values,callback:function(e){t.$set(t.formData,"values",e)},expression:"formData.values"}})],1)]),a("el-form-item",{attrs:{label:"状态","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.value,callback:function(e){t.$set(t.formData,"value",e)},expression:"formData.value"}},[a("el-option",{attrs:{value:"立即开启此身份",label:"立即开启此身份"}}),a("el-option",{attrs:{value:"先保留,暂不开启",label:"先保留,暂不开启"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addIdentTrue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible2,width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("span",[t._v("确认删除此身份?")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteTrue}},[t._v("确 定")])],1)])],1)},gt=[],bt={data:function(){return{value:"状态",id:0,isAdd:!0,identity:"",formData:{name:"",values:[],value:""},disTitle:"添加身份",dialogFormVisible:!1,dialogVisible2:!1,tableData:[{serial:1,identity:"大领导",juris:"整个后台管理",status:!1},{serial:2,identity:"特大领导",juris:"整个项目管理",status:!0}],myTableData:[],options:[]}},methods:{changeStatus:function(t){var e=this,a=this.tableData.filter((function(t){return t.limit_name.match(e.identity)}));"状态"==t?this.myTableData=a:"不可用"==t?this.myTableData=a.filter((function(t){return 0==t.state})):"可用"==t&&(this.myTableData=a.filter((function(t){return 1==t.state})))},addIdent:function(t,e,a){var i=this;this.axios.get("/admin/manage/getLimit").then((function(t){console.log(t.data),t.data.data.forEach((function(t,e){i.options[e]={},i.options[e]["children"]=[],i.options[e]["value"]=t.id,i.options[e]["label"]=t.menu_name,t.child.forEach((function(t,a){i.options[e]["children"][a]={},i.options[e]["children"][a]["value"]=t.id,i.options[e]["children"][a]["label"]=t.menu_name}))})),i.dialogFormVisible=!0})),this.formData.values=[],"add"==t?(this.isAdd=!0,this.formData.value="",this.formData.name="",this.values=[],this.disTitle="添加身份"):(this.isAdd=!1,this.disTitle="修改身份",this.id=e.id,console.log(this.id),this.axios.get("/admin/manage/modify?id="+this.id).then((function(t){console.log(t),i.formData.name=t.data.data.limit_name,0==t.data.data.state?i.formData.value="先保留,暂不开启":1==t.data.data.state&&(i.formData.value="立即开启此身份");var e=t.data.data.limit_data,a=[];e.forEach((function(t){t.child.forEach((function(e){1==e.state&&a.push([t.id,e.id])}))})),i.formData.values=i.formData.values.concat(a),i.dialogFormVisible=!0,console.log(i.formData)})))},addIdentTrue:function(){var t=this,e={},a=[];e.limit_data=[],this.formData.values.forEach((function(t){a.push(t[0]),a.push(t[1])}));var i={};a.forEach((function(t,a){i[t]||(e.limit_data.push(t),i[t]=1)})),e.limit_name=this.formData.name,"立即开启此身份"==this.formData.value?e.state=1:e.state=0,this.isAdd?this.axios.post("/admin/manage/addIdentity",e).then((function(e){t.dialogFormVisible=!1,t._getInfoData()})):(e.id=this.id,this.axios.post("/admin/manage/modifyIdentity",e).then((function(e){t.dialogFormVisible=!1,t._getInfoData()})))},deleteData:function(t){this.id=t.id,this.dialogVisible2=!0},deleteTrue:function(){var t=this;this.axios.get("/admin/manage/deleteLimit?id="+this.id).then((function(e){t.dialogVisible2=!1,t.$message({message:e.data.msg,type:"error"}),t._getInfoData()}))},searchData:function(t){var e=0;"状态"!=this.value?("可用"==this.value&&(e=1),"不可用"==this.value&&(e=0),this.myTableData=this.tableData.filter((function(a){return a.limit_name.match(t)&&e==a.state}))):this.myTableData=this.tableData.filter((function(e){return e.limit_name.match(t)}))},_getInfoData:function(){var t=this;this.axios.get("/admin/manage/limitList").then((function(e){t.tableData=e.data.data,t.tableData.forEach((function(t,e){t.index=e+1})),t.myTableData=t.tableData}))}},created:function(){this._getInfoData()}},vt=bt,_t=(a("5f7c"),Object(o["a"])(vt,ht,gt,!1,null,"94aa5340",null)),xt=_t.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-stu"},[a("div",{staticClass:"add-wrapper"},[t._m(0),a("div",{staticClass:"add-box"},[a("div",{staticClass:"single"},[a("p",{staticClass:"add-box-title"},[t._v("根据学生信息单个添加：")]),a("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline,rules:t.rules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"学生姓名",prop:"stuName","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入试卷标题"},model:{value:t.formInline.stuName,callback:function(e){t.$set(t.formInline,"stuName",e)},expression:"formInline.stuName"}})],1),a("el-form-item",{attrs:{label:"学号(账号)",prop:"id","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formInline.id,callback:function(e){t.$set(t.formInline,"id",e)},expression:"formInline.id"}})],1),a("el-form-item",{attrs:{label:"登录密码",prop:"pass","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formInline.pass,callback:function(e){t.$set(t.formInline,"pass",e)},expression:"formInline.pass"}})],1),a("el-form-item",{attrs:{label:"班级",prop:"classGrade","label-width":"100px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择用户身份"},on:{change:t.changeClass},model:{value:t.formInline.classGrade,callback:function(e){t.$set(t.formInline,"classGrade",e)},expression:"formInline.classGrade"}},t._l(t.classGrades,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("formInline")}}},[t._v("添加学生")])],1)],1)],1),a("div",{staticClass:"to-lead"},[a("p",{staticClass:"add-box-title"},[t._v("批量导入：")]),a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",name:"excel","show-file-list":"",action:"http://ksxt.90plus.cn/admin/user/addUserAll",multiple:"","on-preview":t.clickFile,"on-success":t.uploadSucceed}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])])],1)])])])},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-title"},[a("p",[t._v("添加学生信息")])])}],Ct={data:function(){return{formInline:{classGrade:"",pass:"",id:"",stuName:""},rules:{stuName:[{required:!0,message:"请输入学生姓名",trigger:"blur"}],id:[{required:!0,message:"请输入学生学号",trigger:"blur"}],pass:[{required:!0,message:"请输入登录密码",trigger:"blur"}],classGrade:[{required:!0,message:"请输入学生班级",trigger:"blur"}]},classGrades:[],classID:0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var a={user_name:e.formInline.id,real_name:e.formInline.stuName,class_a:e.classID,password:e.formInline.pass};e.axios.post("/admin/user/addUser",a).then((function(t){console.log(t),(t.data.code=200)&&(e.$message({message:"添加成功！您可以继续添加学生",type:"success"}),e.formInline={classGrade:"",pass:"",id:"",stuName:""})}))}))},leadStu:function(){this.axios.post("/admin/user/addUserAll").then((function(t){console.log(t)}))},clickFile:function(t){console.log(t)},uploadSucceed:function(t,e,a){console.log(t,e,a)},changeClass:function(t){this.classID=t}},created:function(){var t=this;this.axios.get("/admin/user/getClassAll").then((function(e){t.classGrades=e.data.data}))}},wt=Ct,kt=(a("a0f6"),Object(o["a"])(wt,yt,Dt,!1,null,"5f793922",null)),Ft=kt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-class-wrapper"},[a("div",{staticClass:"add-class-box"},[a("div",{staticClass:"search"},[a("span",[t._v("筛选条件")]),a("div",[a("div",{staticStyle:{"margin-left":"1vw"}},[a("el-input",{attrs:{placeholder:"请输入班级名称",clearable:""},on:{input:t.searchData},model:{value:t.className,callback:function(e){t.className=e},expression:"className"}})],1)]),a("el-button",{staticClass:"add-ident",attrs:{type:"primary"},on:{click:function(e){return t.addClass("add")}}},[t._v("添加班级")])],1),a("div",{staticClass:"table"},[a("p",{staticClass:"table-title"},[t._v("班级列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.myTableData}},[a("el-table-column",{attrs:{prop:"id",label:"编号","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"name",label:"班级名称","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"examination",label:"正式考卷","min-width":"30px"}}),a("el-table-column",{attrs:{prop:"examination_mn",label:"模拟考卷","min-width":"30px"}}),a("el-table-column",{attrs:{prop:"time",label:"创建时间","min-width":"20px"}}),a("el-table-column",{attrs:{label:"操作","min-width":"30px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.addClass("redact",e.row,e.$index)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteData(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.seeStudent(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("查看学生")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:t.disTitle,visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"班级名称","label-width":"80px"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}},[a("el-input",{attrs:{placeholder:"输入班级名称",autocomplete:"off"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"正式考卷","label-width":"80px"},model:{value:t.formData.examination,callback:function(e){t.$set(t.formData,"examination",e)},expression:"formData.examination"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择正式考卷"},on:{change:t.changeExamination},model:{value:t.formData.examination,callback:function(e){t.$set(t.formData,"examination",e)},expression:"formData.examination"}},t._l(t.examinations,(function(t){return a("el-option",{key:t.title,attrs:{label:t.title,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"模拟考卷","label-width":"80px"},model:{value:t.formData.examination_mn,callback:function(e){t.$set(t.formData,"examination_mn",e)},expression:"formData.examination_mn"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择模拟考卷"},on:{change:t.changeExaminationMn},model:{value:t.formData.examination_mn,callback:function(e){t.$set(t.formData,"examination_mn",e)},expression:"formData.examination_mn"}},t._l(t.examination_mns,(function(t){return a("el-option",{key:t.title,attrs:{label:t.title,value:t.id}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addClassTrue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible2,width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("span",[t._v("确认删除该班级?")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteTrue}},[t._v("确 定")])],1)])],1)},Tt=[],At={data:function(){return{value:"状态",id:0,isAdd:!0,className:"",formData:{examination:"",examination_mn:"",name:""},disTitle:"添加班级",dialogFormVisible:!1,dialogVisible2:!1,tableData:[],myTableData:[],examinations:[],examination_mns:[],zhengshiID:0,moniID:0}},methods:{addClass:function(t,e,a){var i=this;"add"==t?(this.disTitle="添加班级",this.formData={examination:"",examination_mn:"",name:""},this.zhengshiID=0,this.moniID=0,this.dialogFormVisible=!0):(this.id=e.id,this.axios.get("/admin/user/getClassId?id="+e.id).then((function(t){i.disTitle="修改班级",i.formData=t.data.data,i.zhengshiID=t.data.data.examination_id,i.moniID=t.data.data.examination_mn_id,i.dialogFormVisible=!0})))},addClassTrue:function(){var t=this;if("修改班级"==this.disTitle){var e={id:this.id,name:this.formData.name,examination:this.zhengshiID,examination_mn:this.moniID};this.axios.post("/admin/user/modifyClass",e).then((function(e){t.$message({message:e.data.msg,type:"success"}),t._getInfoData(),t.dialogFormVisible=!1}))}else{if(!this.formData.name)return this.$message({message:"请输入班级名称！",type:"error"});var a={name:this.formData.name,examination:this.zhengshiID,examination_mn:this.moniID};this.axios.post("/admin/user/addClass",a).then((function(e){t.$message({message:e.data.msg,type:"success"}),t._getInfoData(),t.dialogFormVisible=!1}))}},deleteData:function(t){this.id=t.id,this.dialogVisible2=!0},deleteTrue:function(){var t=this;this.axios.get("/admin/user/deleteClass?id="+this.id).then((function(e){t.$message({message:e.data.msg,type:"success"}),t.dialogVisible2=!1,t._getInfoData()}))},seeStudent:function(t){this.$emit("seeStudent",t.id)},changeExamination:function(t){this.zhengshiID=t},changeExaminationMn:function(t){console.log(t),this.moniID=t},searchData:function(t){this.myTableData=this.tableData.filter((function(e){return e.name.match(t)}))},_getInfoData:function(){var t=this;this.axios.get("/admin/user/classList").then((function(e){t.tableData=e.data.data,t.tableData.forEach((function(t,e){t.index=e+1})),t.myTableData=t.tableData})),this.axios.get("/admin/user/getIssueZheng").then((function(e){t.examinations=e.data.data})),this.axios.get("/admin/user/getIssueMu").then((function(e){t.examination_mns=e.data.data}))}},created:function(){this._getInfoData()}},St=At,Et=(a("c61a"),Object(o["a"])(St,It,Tt,!1,null,"0e2d135f",null)),Pt=Et.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-wrapper"},[a("div",{staticClass:"user-box"},[a("div",{staticClass:"search"},[a("span",[t._v("筛选条件")]),a("div",[a("div",{staticStyle:{"margin-left":"1vw"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名或身份",clearable:""},on:{input:t.searchData},model:{value:t.className,callback:function(e){t.className=e},expression:"className"}})],1)]),a("el-button",{staticClass:"add-ident",attrs:{type:"primary"},on:{click:function(e){return t.addClass("add")}}},[t._v("添加新用户")])],1),a("div",{staticClass:"table"},[a("p",{staticClass:"table-title"},[t._v("班级列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.myTableData}},[a("el-table-column",{attrs:{prop:"admin_name",label:"账号","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"admin_real",label:"姓名","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"admin_limit_name",label:"身份","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"admin_state",label:"是否启用","min-width":"20px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"iconfont",class:1==e.row.admin_state?"green":"red"},[t._v("\n                            "+t._s(1==e.row.admin_state?"":"")+"\n                        ")])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"20px"}}),a("el-table-column",{attrs:{label:"操作","min-width":"20px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.addClass("redact",e.row,e.$index)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteData(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("删除")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:t.disTitle,visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"登录账号","label-width":"80px"}},[a("el-input",{attrs:{disabled:t.isamend,placeholder:"输入登录账号",autocomplete:"off"},model:{value:t.formData.admin_name,callback:function(e){t.$set(t.formData,"admin_name",e)},expression:"formData.admin_name"}})],1),a("el-form-item",{attrs:{label:"登录密码","label-width":"80px"}},[a("el-input",{attrs:{type:"password",placeholder:t.passPlaceholder,autocomplete:"off"},model:{value:t.formData.admin_pwd,callback:function(e){t.$set(t.formData,"admin_pwd",e)},expression:"formData.admin_pwd"}})],1),a("el-form-item",{attrs:{label:"姓名","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"输入用户姓名",autocomplete:"off"},model:{value:t.formData.admin_real,callback:function(e){t.$set(t.formData,"admin_real",e)},expression:"formData.admin_real"}})],1),a("el-form-item",{attrs:{label:"用户身份","label-width":"80px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择用户身份"},on:{change:t.changeIdent},model:{value:t.formData.admin_limit_name,callback:function(e){t.$set(t.formData,"admin_limit_name",e)},expression:"formData.admin_limit_name"}},t._l(t.idents,(function(t){return a("el-option",{key:t.limit_name,attrs:{label:t.limit_name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"是否启用","label-width":"80px"}},[a("el-radio-group",{model:{value:t.formData.admin_state,callback:function(e){t.$set(t.formData,"admin_state",e)},expression:"formData.admin_state"}},[a("el-radio",{attrs:{label:1}},[t._v("启用")]),a("el-radio",{attrs:{label:0}},[t._v("不启用")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addClassTrue}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible2,width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("span",[t._v("确认删除该用户?")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteTrue}},[t._v("确 定")])],1)])],1)},Vt=[],jt={data:function(){return{value:"状态",id:0,isAdd:!0,className:"",isamend:!1,formData:{admin_name:"",admin_pwd:"",admin_real:"",admin_limit_name:"",admin_state:1},idents:[],disTitle:"添加班级",dialogFormVisible:!1,dialogVisible2:!1,tableData:[],myTableData:[],examinations:[],examination_mns:[],identID:0,passPlaceholder:"输入登录密码"}},methods:{addClass:function(t,e,a){var i=this;"add"==t?(this.disTitle="添加新用户",this.passPlaceholder="输入登录密码",this.isamend=!1,this.formData={admin_name:"",admin_pwd:"",admin_real:"",admin_state:1,admin_limit_name:""},this.identID=0,this.dialogFormVisible=!0):(this.id=e.id,this.axios.get("/admin/user/getAdminUser?id="+e.id).then((function(t){i.disTitle="修改用户信息",i.passPlaceholder="输入修改的登录密码 (不填写则不会修改)",i.isamend=!0,i.formData=t.data.data,i.dialogFormVisible=!0,i.identID=t.data.data.admin_limit})))},addClassTrue:function(){var t=this;if("修改用户信息"==this.disTitle){var e={id:this.id,admin_real:this.formData.admin_real,admin_limit:this.identID,admin_state:this.formData.admin_state};this.formData.admin_pwd&&(e.admin_pwd=this.formData.admin_pwd),this.axios.post("/admin/user/modifyAdminUser",e).then((function(e){t.$message({message:e.data.msg,type:"success"}),t._getInfoData(),t.dialogFormVisible=!1}))}else{if(!this.formData.admin_name)return this.$message({message:"请输入登录账号！",type:"error"});if(!this.formData.admin_pwd)return this.$message({message:"请输入登录密码！",type:"error"});if(!this.formData.admin_real)return this.$message({message:"请输入用户姓名！",type:"error"});if(!this.formData.admin_limit_name)return this.$message({message:"请选择用户身份！",type:"error"});var a={admin_name:this.formData.admin_name,admin_pwd:this.formData.admin_pwd,admin_real:this.formData.admin_real,admin_limit:this.identID,admin_state:this.formData.admin_state};this.axios.post("/admin/user/addAdminUser",a).then((function(e){console.log(e),t.$message({message:e.data.msg,type:"success"}),t._getInfoData(),t.dialogFormVisible=!1}))}},deleteData:function(t){this.id=t.id,this.dialogVisible2=!0},deleteTrue:function(){var t=this;this.axios.get("/admin/user/deleteAdminUser?id="+this.id).then((function(e){t.$message({message:e.data.msg,type:"success"}),t.dialogVisible2=!1,t._getInfoData()}))},changeIdent:function(t){this.identID=t},searchData:function(t){this.myTableData=this.tableData.filter((function(e){return e.admin_real.match(t)||e.admin_limit_name.match(t)}))},_getInfoData:function(){var t=this;this.axios.get("/admin/user/AdminUserList").then((function(e){t.tableData=e.data.data,t.myTableData=t.tableData})),this.axios.get("/admin/user/getLimit").then((function(e){t.idents=e.data.data}))}},created:function(){this._getInfoData()}},Lt=jt,Nt=(a("a003"),Object(o["a"])(Lt,$t,Vt,!1,null,"70c6234c",null)),Mt=Nt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"per-wrapper"},[a("div",{staticClass:"stu-per"},[a("div",{staticClass:"per-table"},[a("p",{staticClass:"table-title"},[t._v(t._s(t.name)+"的历史考卷列表")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,data:t.myTableData}},[a("el-table-column",{attrs:{fixed:"",prop:"serial",label:"序号","min-width":"5px"}}),a("el-table-column",{attrs:{prop:"title",label:"考卷名称","min-width":"20px"}}),a("el-table-column",{attrs:{prop:"simulation",label:"考卷类别","min-width":"10px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.simulation?"正式考卷":"模拟考卷"))])]}}])}),a("el-table-column",{attrs:{prop:"time",label:"考试日期","min-width":"10px"}}),a("el-table-column",{attrs:{prop:"score",label:"分数","min-width":"10px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cj?a("div",[a("span",{staticStyle:{color:"#DC143C"}},[t._v(t._s(e.row.cj))]),a("span",[t._v("/"+t._s(e.row.score))])]):a("div",[t._v("缺考")])]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"15px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.seePerformancet(e.row)}}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("查看答题卡")])]}}])})],1)],a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pages},on:{"current-change":t.currentPage,"prev-click":t.prevPage,"next-click":t.nextPage}})],1)],2)])])},zt=[],Ot={props:{id:{type:Number}},data:function(){return{tableData:[],myTableData:[],pages:1,name:""}},methods:{prevPage:function(){},nextPage:function(){},currentPage:function(t){this.myTableData=this.tableData.slice(6*t-6,6*t)},seePerformancet:function(t){t.cj?this.$emit("seeAnswer",t):this.$message({message:"该场考试此学生没有参加",type:"error"})}},created:function(){var t=this;this.axios.post("/admin/user/get_user_issue",{u_id:this.id}).then((function(e){console.log(e),t.name=e.data.msg,e.data.data.forEach((function(t,e){t.serial=e+1})),t.tableData=e.data.data,t.pages=Math.ceil(10*t.tableData.length/6),t.myTableData=t.tableData.slice(0,6)}))}},qt=Ot,Gt=(a("3d36"),Object(o["a"])(qt,Bt,zt,!1,null,"0858bc2c",null)),Rt=Gt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"answer-wrapper"},[a("div",{staticClass:"topic-box"},[a("div",{staticClass:"topic"},[a("div",{staticClass:"topic-item"},[a("div",{staticClass:"item-name"},[t._v("单选题")]),a("div",{staticClass:"topic-content-wrapper"},[a("ul",{staticClass:"topic-content-ul"},[t.radioData.length?t._e():a("li",{staticStyle:{color:"#999999","text-align":"center","margin-top":"1vh"}},[t._v("无此项题")]),t._l(t.radioData,(function(e,i){return a("li",{key:i},[a("div",{staticClass:"item-mess"},[a("div",{staticStyle:{display:"flex",margin:"0 0 1vh -1vh"}},[t._v("\n                                    "+t._s(i+1)+"、"),a("div",{domProps:{innerHTML:t._s(e.subject.title)}},[t._v(t._s(e.subject.title))]),a("span",[t._v("("+t._s(e.subject.fraction)+"分)")])]),a("div",[t._v("A. "+t._s(e.subject.a))]),a("div",[t._v("B. "+t._s(e.subject.b))]),a("div",[t._v("C. "+t._s(e.subject.c))]),a("div",[t._v("D. "+t._s(e.subject.d))]),a("div",{staticStyle:{margin:"1vh 0 0 -1vh"}},[a("div",[t._v("学生答案: "),a("span",{class:0==e.correct?"green":"red"},[t._v(t._s(e.user_answer))])]),a("div",{staticStyle:{"margin-top":"10px"}},[t._v("正确答案: "+t._s(e.answer))])])])])}))],2),t._m(0)])]),a("div",{staticClass:"topic-item"},[a("div",{staticClass:"item-name"},[t._v("多选题")]),a("div",{staticClass:"topic-content-wrapper"},[a("ul",{staticClass:"topic-content-ul"},[t.checkData.length?t._e():a("li",{staticStyle:{color:"#999999","text-align":"center","margin-top":"1vh"}},[t._v("无此项题")]),t._l(t.checkData,(function(e,i){return a("li",{key:i},[a("div",{staticClass:"item-mess"},[a("div",{staticStyle:{display:"flex",margin:"0 0 1vh -1vh"}},[t._v("\n                                    "+t._s(i+1)+"、"),a("div",{domProps:{innerHTML:t._s(e.subject.title)}},[t._v(t._s(e.subject.title))]),a("span",[t._v("("+t._s(e.subject.fraction)+"分)")])]),a("div",[t._v("A. "+t._s(e.subject.a))]),a("div",[t._v("B. "+t._s(e.subject.b))]),a("div",[t._v("C. "+t._s(e.subject.c))]),a("div",[t._v("D. "+t._s(e.subject.d))]),a("div",[t._v("E. "+t._s(e.subject.e))]),a("div",[t._v("F. "+t._s(e.subject.f))]),a("div",{staticStyle:{margin:"1vh 0 0 -1vh"}},[a("div",[t._v("学生答案: "),a("span",{class:0==e.correct?"green":"red"},[t._v(t._s(e.user_answer))])]),a("div",{staticStyle:{"margin-top":"10px"}},[t._v("正确答案: "+t._s(e.answer))])])])])}))],2),t._m(1)])]),a("div",{staticClass:"topic-item"},[a("div",{staticClass:"item-name"},[t._v("填空题")]),a("div",{staticClass:"topic-content-wrapper"},[a("ul",{staticClass:"topic-content-ul"},[t.gapData.length?t._e():a("li",{staticStyle:{color:"#999999","text-align":"center","margin-top":"1vh"}},[t._v("无此项题")]),t._l(t.gapData,(function(e,i){return a("li",{key:i},[a("div",{staticClass:"item-mess"},[a("div",{staticStyle:{display:"flex",margin:"0 0 1vh -1vh"}},[t._v("\n                                    "+t._s(i+1)+"、"),a("div",{domProps:{innerHTML:t._s(e.subject.title)}},[t._v(t._s(e.subject.title))]),a("span",[t._v("("+t._s(e.subject.fraction)+"分)")]),a("div",{staticStyle:{"margin-left":"15px",color:"red"}},[t._v("精确到"+t._s(e.subject.error))])]),a("div",[a("div",[t._v("学生答案: "),a("span",{class:0==e.correct?"green":"red"},[t._v(t._s(e.user_answer))])]),a("div",{staticStyle:{"margin-top":"10px"}},[t._v("正确答案: "+t._s(e.answer))])])])])}))],2),t._m(2)])])])])])},Ut=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-line"},[i("img",{attrs:{src:a("1c5d"),alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-line"},[i("img",{attrs:{src:a("1c5d"),alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-line"},[i("img",{attrs:{src:a("1c5d"),alt:""}})])}],Qt={props:{answerData:{type:Object}},data:function(){return{id:0,isShow:!1,cancelShow:!0,allow:!1,radioData:[],checkData:[],gapData:[],formData:[]}},methods:{_getData:function(){var t=this;this.axios.post("/admin/user/get_user_answer_card",{s_id:this.answerData.s_id,u_id:this.answerData.u_id}).then((function(e){console.log(e),t.radioData=e.data.data.dan,t.checkData=e.data.data.duo,t.gapData=e.data.data.tian})).catch((function(t){console.log(t)}))}},created:function(){this._getData()}},Wt=Qt,Zt=(a("5046"),Object(o["a"])(Wt,Ht,Ut,!1,null,"77309ac7",null)),Jt=Zt.exports,Yt={components:{"z-home":w,"z-table":S,"z-mis":L,"z-set-topic":J,"z-simu":at,"z-student":ft,"z-set-up":xt,"z-add-stu":Ft,"z-add-class":Pt,"z-feedback":rt,"z-user-admin":Mt,"z-stu-performancet":Rt,"z-stu-answer":Jt},provide:function(){return{reload:this.reload}},data:function(){return{userName:"",fixed:!1,show:"home",isOper:!1,isA:!1,isbb:!1,iscc:!1,isD:!1,isee:!1,isff:!1,isG:!1,ishh:!1,isii:!1,isJ:!1,iskk:!1,isll:!1,id:0,topicID:0,classID:0,stuPerID:0,answerData:"",isTextShow:!1,isRouterAlive:!0,isQual:!0,dialogVisible:!1,isLeave:!1,isGetInfo:!0,topicTitle:"",s_type:"",outline:"",topicName:"",isSimuTitle:"",menuList:[{icon:"&#xe663;",name:"首页"}],currentIndex:0,currentMenuIndex:0,tableData:""}},methods:{receiveHome:function(t){this.menuList=[{icon:"&#xe501;",name:"回到首页"}],this.currentIndex=-1,this.tableData=t.tableData,this.isQual=t.isQual,this.show=t.show,this.isOper=t.isOper,this.isSimuTitle=t.isSimuTitle,console.log(t)},seeStuPer:function(t){this.stuPerID=t,this._showPage("stuPerformancet")},addTopic:function(t){this.s_type=t.title,this.topicID=t.id,this.outline=t.outline,this.topicName=t.name,this.isGetInfo=!1,this._showPage("setTopic")},amendTopic:function(t){this.topicName="",this.s_type=t.s_type,this.topicID=t.id,this.outline="修改",this.isGetInfo=!1,this._showPage("setTopic")},gotoTopicTable:function(t){this.isSimuTitle=t.title,this.isOper=!1,this.reload(!1),this._showPage("simu")},seeStudent:function(t){this.classID=t,this.isOper=!1,this._showPage("student")},seeAnswer:function(t){this.answerData=t,this._showPage("answer")},handleOpen:function(t,e){1==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe70b;",name:"模拟考卷出题"},{icon:"&#xe996;",name:"正式考卷出题"}],this.currentIndex=0,this.currentMenuIndex=1):2==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe67f;",name:"模拟考卷"},{icon:"&#xe6a2;",name:"正式考卷"}],this.currentIndex=0,this.currentMenuIndex=2):3==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe67f;",name:"添加学生"},{icon:"&#xe6f5;",name:"班级管理"},{icon:"&#xe61b;",name:"学生反馈"}],this.currentIndex=0,this.currentMenuIndex=3):4==t&&(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe647;",name:"权限分配"},{icon:"&#xe647;",name:"用户管理"}],this.currentIndex=0,this.currentMenuIndex=4)},handleClose:function(t,e){},changeMenu:function(t){-1==this.currentIndex&&(this.menuList=[{icon:"&#xe663;",name:"首页"}]),this.currentIndex=t,0!=t?0==this.currentMenuIndex||(1==this.currentMenuIndex?1==t?(this.topicTitle="模拟考卷",this.isGetInfo=!0,this._showPage("setTopic")):2==t&&(this.topicTitle="正式考卷",this.isGetInfo=!0,this._showPage("setTopic")):2==this.currentMenuIndex?1==t?(this.isSimuTitle="模拟考卷列表",this.isOper=!1,this.reload(!1),this._showPage("simu")):2==t&&(this.isSimuTitle="正式考卷列表",this.isOper=!1,this.reload(!1),this._showPage("simu")):3==this.currentMenuIndex?1==t?this._showPage("addStu"):2==t?this._showPage("addClass"):3==t&&this._showPage("feedback"):4==this.currentMenuIndex&&(1==t?this._showPage("setUp"):2==t&&this._showPage("userAdmin"))):this._showPage("home")},handleActive:function(t,e){"1-1"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe70b;",name:"模拟考卷出题"},{icon:"&#xe996;",name:"正式考卷出题"}],this._showPage("setTopic"),this.topicTitle="模拟考卷",this.isGetInfo=!0,this.reload(!1),this.currentIndex=1,this.currentMenuIndex=1):"1-2"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe70b;",name:"模拟考卷出题"},{icon:"&#xe996;",name:"正式考卷出题"}],this._showPage("setTopic"),this.topicTitle="正式考卷",this.isGetInfo=!0,this.reload(!1),this.currentIndex=2,this.currentMenuIndex=1):"2-1"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe61a;",name:"模拟考卷"},{icon:"&#xe61a;",name:"正式考卷"}],this._showPage("simu"),this.isSimuTitle="模拟考卷列表",this.isOper=!1,this.reload(!1),this.currentIndex=1,this.currentMenuIndex=2):"2-2"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe61a;",name:"模拟考卷"},{icon:"&#xe61a;",name:"正式考卷"}],this._showPage("simu"),this.isSimuTitle="正式考卷列表",this.isOper=!1,this.reload(!1),this.currentIndex=2,this.currentMenuIndex=2):"3-1"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe67f;",name:"添加学生"},{icon:"&#xe6f5;",name:"班级管理"},{icon:"&#xe61b;",name:"学生反馈"}],this._showPage("addStu"),this.currentIndex=1,this.currentMenuIndex=3):"3-2"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe67f;",name:"添加学生"},{icon:"&#xe6f5;",name:"班级管理"},{icon:"&#xe61b;",name:"学生反馈"}],this._showPage("addClass"),this.currentIndex=2,this.currentMenuIndex=3):"3-3"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe67f;",name:"添加学生"},{icon:"&#xe6f5;",name:"班级管理"},{icon:"&#xe61b;",name:"学生反馈"}],this._showPage("feedback"),this.currentIndex=3,this.currentMenuIndex=3):"4-1"==t?(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe647;",name:"权限分配"},{icon:"&#xe647;",name:"用户管理"}],this._showPage("setUp"),this.currentIndex=1,this.currentMenuIndex=4):"4-2"==t&&(this.menuList=[{icon:"&#xe663;",name:"首页"},{icon:"&#xe647;",name:"权限分配"},{icon:"&#xe647;",name:"用户管理"}],this._showPage("userAdmin"),this.currentIndex=2,this.currentMenuIndex=4)},studentShow:function(){this._showPage("setTopic")},gotoErr:function(t){this.id=t,this._showPage("mis")},backTable:function(){this._showPage("table")},reload:function(t){var e=this;this.isRouterAlive=!1,this.$nextTick((function(){e.isRouterAlive=!0;var a=document.getElementById("reload"),i=0;if(t)var s=setInterval((function(){i+=2,i>=360&&(clearInterval(s),i=360),a.style.transform="rotate(".concat(i,"deg)")}),1)}))},goHome:function(){this._showPage("home"),this.currentIndex=0},backLogin:function(){this.isLeave=!0,this.$router.push("/")},_showPage:function(t){this.show=t,this.$forceUpdate()},_getInfoMenu:function(){var t=this;this.axios("/admin/index/index").then((function(e){200==e.data.code?e.data.data.forEach((function(e,a){e.child.forEach((function(e){1==e.parent_id&&(t.isA=!0),4==e.parent_id&&(t.isD=!0),7==e.parent_id&&(t.isG=!0),10==e.parent_id&&(t.isJ=!0),2==e.id&&(t.isbb=!0),3==e.id&&(t.iscc=!0),5==e.id&&(t.isee=!0),6==e.id&&(t.isff=!0),8==e.id&&(t.ishh=!0),9==e.id&&(t.isii=!0),11==e.id&&(t.iskk=!0),12==e.id&&(t.isll=!0)}))})):t.$message({message:e.data.msg,type:"error"})}))},_getUserName:function(){var t=this;this.axios.get("/admin/index/getUser").then((function(e){200==e.data.code?t.userName=e.data.msg:4==e.data.code&&(console.log(1),t.$router.push("/"))}))}},created:function(){var t=this;this._getInfoMenu(),this._getUserName(),this.$nextTick((function(){var e=document.getElementById("header"),a=e.offsetTop;window.addEventListener("scroll",(function(){var e;document.documentElement.scrollTop&&(e=document.documentElement.scrollTop),t.fixed=e>=a}))}))},beforeRouteLeave:function(t,e,a){var i=this;this.isLeave&&(this.isLeave=!1,this.$confirm("确认返回登录页？").then((function(t){i.axios.post("/admin/login/outLogin").then((function(t){})),a()})).catch(a(!1)))}},Xt=Yt,Kt=(a("1abb"),Object(o["a"])(Xt,b,v,!1,null,"2aab8120",null)),te=Kt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topic-wrapper"},[a("div",{staticClass:"topic-box"},[a("div",{staticClass:"topic-menu"},[a("div",{staticClass:"name"},[a("p",{staticClass:"name-desc"},[t._v("试卷名称：")]),a("p",{staticClass:"title"},[t._v(t._s(t.title))])]),a("ul",[a("p",[t._v("子卷列表")]),t._l(t.menuList,(function(e,i){return a("li",{key:i,class:t.currentIndex==i?"active":"",on:{click:function(e){return t.getTopic(i)}}},[t._v(t._s(e)+" 卷")])}))],2)]),a("div",{staticClass:"topic-content"},[a("div",{staticClass:"outline"},[a("p",{staticClass:"outline-title"},[t._v("想定内容")]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}},[t._v(t._s(t.content))])]),a("div",{staticClass:"adjun"},[a("p",{staticClass:"adjun-title"},[t._v("所有附件")]),a("ul",t._l(t.adjunData,(function(e,i){return a("li",{key:i},[a("p",{staticClass:"adjun-name"},[t._v(t._s(e.title))]),a("div",{staticClass:"adjun-content",domProps:{innerHTML:t._s(e.content)}},[t._v(t._s(e.content))])])})),0)]),a("div",{staticClass:"topics"},[a("p",{staticClass:"topic-title"},[t._v("作业条件")]),a("div",{staticClass:"topic-content"},[a("div",{staticClass:"alone"},[a("p",{staticClass:"topics-title"},[t._v("单选题")]),a("ul",t._l(t.topicData,(function(e,i){return a("li",{key:i},[a("p",{staticClass:"topic-name"},[t._v("今天你吃了吗?")]),t._m(0,!0),t._m(1,!0)])})),0)]),t._m(2),t._m(3)])])])])])},ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"answers"},[a("p",[t._v("A: 吃了")]),a("p",[t._v("B: 吃了")]),a("p",[t._v("C: 吃了")]),a("p",[t._v("D: 吃了")]),a("p",[t._v("E: 吃了")]),a("p",[t._v("F: 吃了")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"answer"},[a("span",{staticClass:"topic-answer"},[t._v("正确答案：")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"multi"},[a("p",{staticClass:"topics-title"},[t._v("多选题")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gap"},[a("p",{staticClass:"topics-title"},[t._v("填空题")])])}],ie={data:function(){return{menuList:[],adjunData:[],topicData:[],title:"",content:"",currentIndex:0}},methods:{getTopic:function(t){this.currentIndex=t}},computed:{id:function(){return this.$route.query.id}},created:function(){var t=this;console.log(this.id),this.axios.get("/admin/issue/seeIssue?id="+this.id).then((function(e){console.log(e),t.menuList=e.data.data.s_type,t.title=e.data.data.title,t.content=e.data.data.outline})),this.axios.get("/admin/issue/details?s_id="+this.id+"&s_type=A").then((function(e){console.log(e),e.data.data.enclosure.forEach((function(e,a){t.adjunData[a]={},t.adjunData[a].title=e.title,t.adjunData[a].content=e.content})),console.log(t.adjunData)}))}},se=ie,ne=(a("06e6"),Object(o["a"])(se,ee,ae,!1,null,"65e546f8",null)),oe=ne.exports;i["default"].use(u["a"]);var le=new u["a"]({mode:"hash",base:"/examback/",routes:[{path:"/",name:"Login",component:g},{path:"/index",name:"Index",component:te,children:[{path:"/index/home",name:"home",component:w}]},{path:"/Topic",name:"Topic",component:oe}]}),re=a("08c17");i["default"].use(re["a"]);var ce=new re["a"].Store({state:{},mutations:{},actions:{}}),ue=(a("be35"),a("09e1"),a("7893")),de=a.n(ue),me=(a("610a"),a("4286")),pe=a.n(me),fe=a("2427"),he=a.n(fe);he.a.interceptors.request.use((function(t){return localStorage.getItem("eleToken")&&(t.headers.Authorization=localStorage.getItem("eleToken")),t}),(function(t){return Promise.reject(t)})),he.a.interceptors.response.use((function(t){return 4==t.data.code&&le.push({name:"Login"}),t}),(function(t){ue["Message"].error(t.response.data);t.response.status;return Promise.reject(t)}));var ge=he.a;i["default"].prototype.$echarts=pe.a,i["default"].prototype.axios=ge,i["default"].use(de.a),i["default"].config.productionTip=!1,new i["default"]({router:le,store:ce,render:function(t){return t(c)}}).$mount("#app")},5819:function(t,e,a){},"5cf0":function(t,e,a){},"5f7c":function(t,e,a){"use strict";var i=a("fe67"),s=a.n(i);s.a},"67a7":function(t,e,a){"use strict";var i=a("0251"),s=a.n(i);s.a},"8bb3":function(t,e,a){},"9b40":function(t,e,a){"use strict";var i=a("2ebc"),s=a.n(i);s.a},a003:function(t,e,a){"use strict";var i=a("e947"),s=a.n(i);s.a},a0f6:function(t,e,a){"use strict";var i=a("3b6f"),s=a.n(i);s.a},afe4:function(t,e,a){"use strict";var i=a("fdad"),s=a.n(i);s.a},bca1:function(t,e,a){t.exports=a.p+"assets/img/userPhoto.e8fc19ac.png"},be35:function(t,e,a){},c61a:function(t,e,a){"use strict";var i=a("4ba6"),s=a.n(i);s.a},ca85:function(t,e,a){"use strict";var i=a("03e5"),s=a.n(i);s.a},d5c3:function(t,e,a){},d6f7:function(t,e,a){},dca8:function(t,e,a){},de52:function(t,e,a){},e546:function(t,e,a){"use strict";var i=a("d5c3"),s=a.n(i);s.a},e947:function(t,e,a){},f643:function(t,e,a){"use strict";var i=a("d6f7"),s=a.n(i);s.a},f9ab:function(t,e){tinymce.addI18n("zh_CN",{Redo:"重做",Undo:"撤销",Cut:"剪切",Copy:"复制",Paste:"粘贴","Select all":"全选","New document":"新文件",Ok:"确定",Cancel:"取消","Visual aids":"网格线",Bold:"粗体",Italic:"斜体",Underline:"下划线",Strikethrough:"删除线",Superscript:"上标",Subscript:"下标","Clear formatting":"清除格式","Align left":"左边对齐","Align center":"中间对齐","Align right":"右边对齐",Justify:"两端对齐","Bullet list":"项目符号","Numbered list":"编号列表","Decrease indent":"减少缩进","Increase indent":"增加缩进",Close:"关闭",Formats:"格式","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"你的浏览器不支持打开剪贴板，请使用Ctrl+X/C/V等快捷键。",Headers:"标题","Header 1":"标题1","Header 2":"标题2","Header 3":"标题3","Header 4":"标题4","Header 5":"标题5","Header 6":"标题6",Headings:"标题","Heading 1":"标题1","Heading 2":"标题2","Heading 3":"标题3","Heading 4":"标题4","Heading 5":"标题5","Heading 6":"标题6",Preformatted:"预先格式化的",Div:"Div",Pre:"Pre",Code:"代码",Paragraph:"段落",Blockquote:"引文区块",Inline:"文本",Blocks:"基块","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"当前为纯文本粘贴模式，再次点击可以回到普通粘贴模式。",Fonts:"字体","Font Sizes":"字号",Class:"类型","Browse for an image":"浏览图像",OR:"或","Drop an image here":"拖放一张图像至此",Upload:"上传",Block:"块",Align:"对齐",Default:"默认",Circle:"空心圆",Disc:"实心圆",Square:"方块","Lower Alpha":"小写英文字母","Lower Greek":"小写希腊字母","Lower Roman":"小写罗马字母","Upper Alpha":"大写英文字母","Upper Roman":"大写罗马字母","Anchor...":"锚点...",Name:"名称",Id:"标识符","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"标识符应该以字母开头，后跟字母、数字、破折号、点、冒号或下划线。","You have unsaved changes are you sure you want to navigate away?":"你还有文档尚未保存，确定要离开？","Restore last draft":"恢复上次的草稿","Special characters...":"特殊字符...","Source code":"源代码","Insert/Edit code sample":"插入/编辑代码示例",Language:"语言","Code sample...":"示例代码...","Color Picker":"选色器",R:"R",G:"G",B:"B","Left to right":"从左到右","Right to left":"从右到左","Emoticons...":"表情符号...","Metadata and Document Properties":"元数据和文档属性",Title:"标题",Keywords:"关键词",Description:"描述",Robots:"机器人",Author:"作者",Encoding:"编码",Fullscreen:"全屏",Action:"操作",Shortcut:"快捷键",Help:"帮助",Address:"地址","Focus to menubar":"移动焦点到菜单栏","Focus to toolbar":"移动焦点到工具栏","Focus to element path":"移动焦点到元素路径","Focus to contextual toolbar":"移动焦点到上下文菜单","Insert link (if link plugin activated)":"插入链接 (如果链接插件已激活)","Save (if save plugin activated)":"保存(如果保存插件已激活)","Find (if searchreplace plugin activated)":"查找(如果查找替换插件已激活)","Plugins installed ({0}):":"已安装插件 ({0}):","Premium plugins:":"优秀插件：","Learn more...":"了解更多...","You are using {0}":"你正在使用 {0}",Plugins:"插件","Handy Shortcuts":"快捷键","Horizontal line":"水平分割线","Insert/edit image":"插入/编辑图片","Image description":"图片描述",Source:"地址",Dimensions:"大小","Constrain proportions":"保持纵横比",General:"普通",Advanced:"高级",Style:"样式","Vertical space":"垂直边距","Horizontal space":"水平边距",Border:"边框","Insert image":"插入图片","Image...":"图片...","Image list":"图片列表","Rotate counterclockwise":"逆时针旋转","Rotate clockwise":"顺时针旋转","Flip vertically":"垂直翻转","Flip horizontally":"水平翻转","Edit image":"编辑图片","Image options":"图片选项","Zoom in":"放大","Zoom out":"缩小",Crop:"裁剪",Resize:"调整大小",Orientation:"方向",Brightness:"亮度",Sharpen:"锐化",Contrast:"对比度","Color levels":"颜色层次",Gamma:"伽马值",Invert:"反转",Apply:"应用",Back:"后退","Insert date/time":"插入日期/时间","Date/time":"日期/时间","Insert/Edit Link":"插入/编辑链接","Insert/edit link":"插入/编辑链接","Text to display":"显示文字",Url:"地址","Open link in...":"链接打开位置...","Current window":"当前窗口",None:"无","New window":"在新窗口打开","Remove link":"删除链接",Anchors:"锚点","Link...":"链接...","Paste or type a link":"粘贴或输入链接","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"你所填写的URL地址为邮件地址，需要加上mailto:前缀吗？","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"你所填写的URL地址属于外部链接，需要加上http://:前缀吗？","Link list":"链接列表","Insert video":"插入视频","Insert/edit video":"插入/编辑视频","Insert/edit media":"插入/编辑媒体","Alternative source":"镜像","Alternative source URL":"替代来源网址","Media poster (Image URL)":"封面(图片地址)","Paste your embed code below:":"将内嵌代码粘贴在下面:",Embed:"内嵌","Media...":"多媒体...","Nonbreaking space":"不间断空格","Page break":"分页符","Paste as text":"粘贴为文本",Preview:"预览","Print...":"打印...",Save:"保存",Find:"查找","Replace with":"替换为",Replace:"替换","Replace all":"全部替换",Previous:"上一个",Next:"下一个","Find and replace...":"查找并替换...","Could not find the specified string.":"未找到搜索内容.","Match case":"区分大小写","Find whole words only":"全字匹配","Spell check":"拼写检查",Ignore:"忽略","Ignore all":"全部忽略",Finish:"完成","Add to Dictionary":"添加到字典","Insert table":"插入表格","Table properties":"表格属性","Delete table":"删除表格",Cell:"单元格",Row:"行",Column:"列","Cell properties":"单元格属性","Merge cells":"合并单元格","Split cell":"拆分单元格","Insert row before":"在上方插入","Insert row after":"在下方插入","Delete row":"删除行","Row properties":"行属性","Cut row":"剪切行","Copy row":"复制行","Paste row before":"粘贴到上方","Paste row after":"粘贴到下方","Insert column before":"在左侧插入","Insert column after":"在右侧插入","Delete column":"删除列",Cols:"列",Rows:"行",Width:"宽",Height:"高","Cell spacing":"单元格外间距","Cell padding":"单元格内边距","Show caption":"显示标题",Left:"左对齐",Center:"居中",Right:"右对齐","Cell type":"单元格类型",Scope:"范围",Alignment:"对齐方式","H Align":"水平对齐","V Align":"垂直对齐",Top:"顶部对齐",Middle:"垂直居中",Bottom:"底部对齐","Header cell":"表头单元格","Row group":"行组","Column group":"列组","Row type":"行类型",Header:"表头",Body:"表体",Footer:"表尾","Border color":"边框颜色","Insert template...":"插入模板...",Templates:"模板",Template:"模板","Text color":"文字颜色","Background color":"背景色","Custom...":"自定义...","Custom color":"自定义颜色","No color":"无","Remove color":"移除颜色","Table of Contents":"内容列表","Show blocks":"显示区块边框","Show invisible characters":"显示不可见字符","Word count":"字数","Words: {0}":"字数：{0}","{0} words":"{0} 字",File:"文件",Edit:"编辑",Insert:"插入",View:"视图",Format:"格式",Table:"表格",Tools:"工具","Powered by {0}":"由{0}驱动","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"在编辑区按ALT-F9打开菜单，按ALT-F10打开工具栏，按ALT-0查看帮助","Image title":"图片标题","Border width":"边框宽度","Border style":"边框样式",Error:"错误",Warn:"警告",Valid:"有效","To open the popup, press Shift+Enter":"按Shitf+Enter键打开对话框","Rich Text Area. Press ALT-0 for help.":"编辑区。按Alt+0键打开帮助。","System Font":"系统字体","Failed to upload image: {0}":"图片上传失败: {0}","Failed to load plugin: {0} from url {1}":"插件加载失败: {0} 来自链接 {1}","Failed to load plugin url: {0}":"插件加载失败 链接: {0}","Failed to initialize plugin: {0}":"插件初始化失败: {0}",example:"示例",Search:"搜索",All:"全部",Currency:"货币",Text:"文字",Quotations:"引用",Mathematical:"数学","Extended Latin":"拉丁语扩充",Symbols:"符号",Arrows:"箭头","User Defined":"自定义","dollar sign":"美元符号","currency sign":"货币符号","euro-currency sign":"欧元符号","colon sign":"冒号","cruzeiro sign":"克鲁赛罗币符号","french franc sign":"法郎符号","lira sign":"里拉符号","mill sign":"密尔符号","naira sign":"奈拉符号","peseta sign":"比塞塔符号","rupee sign":"卢比符号","won sign":"韩元符号","new sheqel sign":"新谢克尔符号","dong sign":"越南盾符号","kip sign":"老挝基普符号","tugrik sign":"图格里克符号","drachma sign":"德拉克马符号","german penny symbol":"德国便士符号","peso sign":"比索符号","guarani sign":"瓜拉尼符号","austral sign":"澳元符号","hryvnia sign":"格里夫尼亚符号","cedi sign":"塞地符号","livre tournois sign":"里弗弗尔符号","spesmilo sign":"spesmilo符号","tenge sign":"坚戈符号","indian rupee sign":"印度卢比","turkish lira sign":"土耳其里拉","nordic mark sign":"北欧马克","manat sign":"马纳特符号","ruble sign":"卢布符号","yen character":"日元字样","yuan character":"人民币元字样","yuan character, in hong kong and taiwan":"元字样（港台地区）","yen/yuan character variant one":"元字样（大写）","Loading emoticons...":"加载表情符号...","Could not load emoticons":"不能加载表情符号",People:"人类","Animals and Nature":"动物和自然","Food and Drink":"食物和饮品",Activity:"活动","Travel and Places":"旅游和地点",Objects:"物件",Flags:"旗帜",Characters:"字符","Characters (no spaces)":"字符(无空格)","Error: Form submit field collision.":"错误: 表单提交字段冲突。","Error: No form element found.":"错误: 没有表单控件。",Update:"更新","Color swatch":"颜色样本",Turquoise:"青绿色",Green:"绿色",Blue:"蓝色",Purple:"紫色","Navy Blue":"海军蓝","Dark Turquoise":"深蓝绿色","Dark Green":"深绿色","Medium Blue":"中蓝色","Medium Purple":"中紫色","Midnight Blue":"深蓝色",Yellow:"黄色",Orange:"橙色",Red:"红色","Light Gray":"浅灰色",Gray:"灰色","Dark Yellow":"暗黄色","Dark Orange":"深橙色","Dark Red":"深红色","Medium Gray":"中灰色","Dark Gray":"深灰色",Black:"黑色",White:"白色","Switch to or from fullscreen mode":"切换全屏模式","Open help dialog":"打开帮助对话框",history:"历史",styles:"样式",formatting:"格式化",alignment:"对齐",indentation:"缩进","permanent pen":"记号笔",comments:"备注",Anchor:"锚点","Special character":"特殊符号","Code sample":"代码示例",Color:"颜色",Emoticons:"表情","Document properties":"文档属性",Image:"图片","Insert link":"插入链接",Target:"打开方式",Link:"链接",Poster:"封面",Media:"媒体",Print:"打印",Prev:"上一个","Find and replace":"查找和替换","Whole words":"全字匹配",Spellcheck:"拼写检查",Caption:"标题","Insert template":"插入模板"})},fdad:function(t,e,a){},fe67:function(t,e,a){}});
//# sourceMappingURL=app.062f21b3.js.map